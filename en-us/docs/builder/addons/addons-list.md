Title: Neuro AddOns
Description: Neuro AddOns for CITSmart.

# AddOns

## Ticket History

<iframe width="560" height="315" src="https://www.youtube.com/embed/AcidCObN8cU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>  

??? example "Through this functionality, it is possible to customize the occurrence inclusion screen by creating a ticket timesheet.  On the new screen, the Date and Time fields have been replaced with "Start date and time" and "End date and time". (Click here for more detail)"

    ```tab="Configuration"
    Neuro AddOn Ticket History Connection and Package 
    -   Create an "itsm" database connection in Neuro / Configuration / Database connection
    -   Copy and Save the JSON attachment to a ".json" file 
    -   Import the file created on Neuro / Management / Package:
        1.  Click on “Import”
        2.  Select or drag the package to modal, check the "Execute DDL" option and click on "Import"
        3.  Wait for the package import message

    Customize the tickets occurrence creation screen
    -   Create the preview template associated with the Neuro form "ticketOccurrenceNotes". The template page is of the default type
    -   Associate the visualization template or monitoring template in the portfolio

    IMPORTANT : For Neuro previous versions than 1.3.0.0, run the database scripts:
    alter table ocorrenciasolicitacao add starttime timestamp;
    alter table ocorrenciasolicitacao add endtime timestamp;

    Add the Ticket History form to the ticket screen
    -  Create the preview template associated with the Neuro form "ticketHistory" (The template page is of type CRUD)
    -  Associate the display template in the portfolio
    ```

    ```JSON tab="JSON"
    {"dataEdicao":"2019-05-04T01:48:31.622-0300","dataCriacao":"2019-05-03T09:30:29.024-0300","version":2,"id":9754,"name":"ticket_history","description":"AddOn Ticket History","majorVersion":1,"minorVersion":0,"applications":[{"dataEdicao":"2019-05-03T09:30:23.702-0300","dataCriacao":"2019-05-03T09:30:23.702-0300","version":0,"id":9650,"applicationType":{"id":102,"nome":"INTERNAL","descricao":"Portal GRP","chave":"applicationType","codigo":1,"isPadrao":false,"editavel":false,"descricaoEdit":"Portal GRP"},"description":"AddOn Ticket History","name":"ticket_history","purpose":"AddOn Ticket History","path":"dynamic/ticket_history","majorVersion":1,"minorVersion":0,"loadDefaultJSFiles":true,"loadDefaultCSSFiles":true,"showNotification":false,"usesDefaultController":false,"usesDefaultHome":false,"files":[],"grants":[],"versionAsString":"1.0","ignoreVersion":false,"newVersion":false}],"dataObjects":[{"dataEdicao":"2019-05-04T01:48:07.657-0300","dataCriacao":"2019-05-03T09:30:25.841-0300","version":3,"id":9739,"dataSource":{"dataEdicao":"2019-05-03T09:30:14.547-0300","dataCriacao":"2019-05-03T09:30:14.547-0300","version":0,"id":9649,"connectionName":"itsm","description":"ITSM DB Connection","connectorType":{"id":138,"name":"JNDI","description":"Conexão JNDI","key":"dataSourceConnectorType","code":1,"editable":false,"isDefault":false}},"type":{"id":141,"name":"VIEW","description":"View","key":"dataObjectType","code":2,"editable":false,"isDefault":false},"name":"vw_tickethistory","description":"Ticket History","majorVersion":1,"minorVersion":0,"businessName":"TicketHistory","purpose":"Ticket History","restAPI":"'use strict';\r\n\r\n// TicketHistory - Ticket History\r\nangular.module('builder.app').factory('TicketHistoryRepository', ['RestangularEsi', 'DynamicModelRepository', 'appService', '$injector', '$q', function (restangular, DynamicModelRepository, appService, $injector, $q) {\r\n\r\n    function TicketHistoryRepository() {\r\n    \tvar self = this;\r\n    \t\r\n    \tDynamicModelRepository.call(this, restangular, 'rest/dynamic/ticket_history/tickethistory');\r\n    \t\r\n    \t/*\r\n    \t * Methods:\r\n    \t *\t\tgetList()\r\n    \t * \t\tgetListPage(params)\r\n    \t * \t\trestore(entity, findManyToOne, findOneToMany)\r\n    \t * \t\tcreate(entity)\r\n    \t * \t\tupdate(entity)\r\n    \t * \t\tcreateOrUpdate(entity)\r\n    \t * \t\tcreateOrUpdateList(list)\r\n    \t * \t\tremove(entity)\r\n    \t * \t\tgetStructure()\r\n    \t * \t\texportCSV()\r\n    \t */\r\n    \t\n\n\t\t// List by Request\n\t\tthis.byRequest = function(entity, findManyToOne, findOneToMany) {\n\t\t\tvar params = {SQLName: 'ByRequest', findManyToOne: findManyToOne, findOneToMany: findOneToMany, dynamicModel: entity};\n\t\t\treturn this.restangular.all(this.route + '/list').post(params);\n\t\t}\r\n    \t/* begin developer area */\r\n    \t\r\n    \t/* end developer area */\r\n    }\r\n\r\n    DynamicModelRepository.extend(TicketHistoryRepository);\r\n\r\n    return new TicketHistoryRepository();\r\n}]);","developerArea":"","form":{"id":9652,"type":"FORM","description":"Ticket History","name":"ticketHistory","applicationName":"ticket_history"},"sqls":[{"id":9751,"type":"SELECT","name":"ByRequest","description":"List by Request","defaultSQL":false,"sql":"select id, request_id, workitem_id, workitem, date, hour, responsible,  type_id, type, case when occurrency = type then '' else occurrency end as occurrency from vw_tickethistory\nwhere request_id = ${request_id:INTEGER}\n order by id desc","selectQueryPiece":"select id, request_id, workitem_id, workitem, date, hour, responsible,  type_id, type, case when occurrency = type then '' else occurrency end as occurrency","fromWhereQueryPiece":"from vw_tickethistory\nwhere request_id = ${request_id:INTEGER}\n","orderQueryPiece":"order by id desc"}],"fields":[{"fieldType":"C","id":9740,"name":"id","attributeName":"id","description":"id","label":"id","displayAtForm":false,"displayAtGrid":false,"width":2,"required":true,"disabled":false,"widgetId":632,"type":{"dataEdicao":"2019-04-22T14:34:22.082-0300","dataCriacao":"2019-04-22T14:34:22.082-0300","version":0,"id":863,"name":"bigint","description":"Big integer","javaClass":"BIG_INTEGER","allowSize":false,"allowGeneratedValue":true,"allowPrecision":false,"allowAutoIncrement":true,"width":2,"widgetName":"input-integer"},"pk":true,"fk":false,"generatedValue":false,"autoIncrement":false,"databaseType":"int4","mandatory":true,"domainPkType":"CODE","widgetName":"input-integer"},{"fieldType":"C","id":9741,"name":"request_id","attributeName":"request_id","description":"itsm id","label":"itsm id","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":632,"type":{"dataEdicao":"2019-04-22T14:34:22.082-0300","dataCriacao":"2019-04-22T14:34:22.082-0300","version":0,"id":863,"name":"bigint","description":"Big integer","javaClass":"BIG_INTEGER","allowSize":false,"allowGeneratedValue":true,"allowPrecision":false,"allowAutoIncrement":true,"width":2,"widgetName":"input-integer"},"pk":false,"fk":false,"generatedValue":false,"autoIncrement":false,"databaseType":"int8","mandatory":false,"domainPkType":"CODE","widgetName":"input-integer"},{"fieldType":"C","id":9742,"index":3,"indexGrid":3,"name":"workitem","attributeName":"workitem","description":"citcorporeRelatorio.comum.tarefa","label":"citcorporeRelatorio.comum.tarefa","displayAtForm":true,"displayAtGrid":false,"width":6,"widthGrid":20,"required":false,"disabled":false,"breakLine":false,"filter":"translate","widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.349-0300","dataCriacao":"2019-04-22T14:34:22.349-0300","version":0,"id":938,"name":"varchar","description":"String","javaClass":"STRING","allowSize":true,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":4,"widgetName":"input-text"},"pk":false,"fk":false,"size":255,"generatedValue":false,"autoIncrement":false,"databaseType":"varchar","mandatory":false,"domainPkType":"CODE","widgetName":"input-text"},{"fieldType":"C","id":9743,"index":0,"indexGrid":0,"name":"date","attributeName":"date","description":"citcorpore.comum.data","label":"citcorpore.comum.data","displayAtForm":true,"displayAtGrid":true,"width":6,"widthGrid":10,"required":false,"disabled":false,"breakLine":false,"filter":"dateFromLocale","widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.266-0300","dataCriacao":"2019-04-22T14:34:22.266-0300","version":0,"id":915,"name":"date","description":"Date","javaClass":"DATE","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":2,"widgetName":"date-picker"},"pk":false,"fk":false,"size":255,"generatedValue":false,"autoIncrement":false,"databaseType":"date","mandatory":false,"domainPkType":"CODE","widgetName":"input-text"},{"fieldType":"C","id":9744,"index":1,"indexGrid":2,"name":"responsible","attributeName":"responsible","description":"citcorpore.comum.usuario","label":"citcorpore.comum.usuario","displayAtForm":true,"displayAtGrid":true,"width":6,"widthGrid":15,"required":false,"disabled":false,"breakLine":false,"filter":"translate","widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.381-0300","dataCriacao":"2019-04-22T14:34:22.381-0300","version":0,"id":947,"name":"text","description":"Long text","javaClass":"STRING","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":6,"widgetName":"text-area"},"pk":false,"fk":false,"size":255,"generatedValue":false,"autoIncrement":false,"databaseType":"text","mandatory":false,"domainPkType":"CODE","widgetName":"input-text"},{"fieldType":"C","id":9745,"name":"type_id","attributeName":"type_id","description":"type id","label":"type id","displayAtForm":false,"displayAtGrid":false,"width":4,"required":false,"disabled":false,"widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.118-0300","dataCriacao":"2019-04-22T14:34:22.118-0300","version":0,"id":870,"name":"int","description":"Small integer","javaClass":"INTEGER","allowSize":false,"allowGeneratedValue":true,"allowPrecision":false,"allowAutoIncrement":true,"width":2,"widgetName":"input-integer"},"pk":false,"fk":false,"size":255,"generatedValue":false,"autoIncrement":false,"databaseType":"int2","mandatory":false,"domainPkType":"CODE","widgetName":"input-text"},{"fieldType":"C","id":9746,"index":2,"indexGrid":3,"name":"type","attributeName":"type","description":"LABEL.INTERACTION_TYPE","label":"LABEL.INTERACTION_TYPE","displayAtForm":true,"displayAtGrid":true,"width":6,"widthGrid":20,"required":false,"disabled":false,"breakLine":false,"filter":"translate","widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.381-0300","dataCriacao":"2019-04-22T14:34:22.381-0300","version":0,"id":947,"name":"text","description":"Long text","javaClass":"STRING","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":6,"widgetName":"text-area"},"pk":false,"fk":false,"size":255,"generatedValue":false,"autoIncrement":false,"databaseType":"text","mandatory":false,"domainPkType":"CODE","widgetName":"input-text"},{"fieldType":"C","id":9747,"index":4,"indexGrid":5,"name":"description","attributeName":"description","description":"citcorpore.comum.descricao","label":"citcorpore.comum.descricao","displayAtForm":true,"displayAtGrid":false,"width":12,"widthGrid":20,"required":false,"disabled":false,"breakLine":false,"filter":"translate","widgetId":691,"type":{"dataEdicao":"2019-04-22T14:34:22.381-0300","dataCriacao":"2019-04-22T14:34:22.381-0300","version":0,"id":947,"name":"text","description":"Long text","javaClass":"STRING","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":6,"widgetName":"text-area"},"pk":false,"fk":false,"generatedValue":false,"autoIncrement":false,"databaseType":"text","mandatory":false,"domainPkType":"CODE","widgetName":"text-area"},{"fieldType":"C","id":9748,"indexGrid":1,"name":"hour","attributeName":"hour","description":"eventoItemConfiguracao.hora","label":"eventoItemConfiguracao.hora","displayAtForm":false,"displayAtGrid":true,"width":4,"widthGrid":5,"required":false,"disabled":false,"widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.349-0300","dataCriacao":"2019-04-22T14:34:22.349-0300","version":0,"id":938,"name":"varchar","description":"String","javaClass":"STRING","allowSize":true,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":4,"widgetName":"input-text"},"pk":false,"fk":false,"size":5,"generatedValue":false,"autoIncrement":false,"databaseType":"varchar","mandatory":false,"domainPkType":"CODE","widgetName":"input-text"},{"fieldType":"C","id":9749,"name":"workitem_id","attributeName":"workitem_id","description":"workitem_id","label":"workitem_id","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":632,"type":{"dataEdicao":"2019-04-22T14:34:22.082-0300","dataCriacao":"2019-04-22T14:34:22.082-0300","version":0,"id":863,"name":"bigint","description":"Big integer","javaClass":"BIG_INTEGER","allowSize":false,"allowGeneratedValue":true,"allowPrecision":false,"allowAutoIncrement":true,"width":2,"widgetName":"input-integer"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"int8","mandatory":false,"widgetName":"input-integer"},{"fieldType":"C","id":9750,"indexGrid":4,"name":"occurrency","attributeName":"occurrency","description":"citcorpore.comum.descricao","label":"citcorpore.comum.descricao","displayAtForm":false,"displayAtGrid":true,"width":6,"widthGrid":10,"required":false,"disabled":false,"widgetId":691,"type":{"dataEdicao":"2019-04-22T14:34:22.381-0300","dataCriacao":"2019-04-22T14:34:22.381-0300","version":0,"id":947,"name":"text","description":"Long text","javaClass":"STRING","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":6,"widgetName":"text-area"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"text","mandatory":false,"widgetName":"text-area"}],"ddl":"CREATE VIEW \"vw_tickethistory\" AS \r\nselect o.idocorrencia as id, o.idsolicitacaoservico as request_id, o.iditemtrabalho as workitem_id, e.nome as workitem, \r\no.dataregistro as date, o.horaregistro as hour, \r\ncase \r\nwhen lower(o.registradopor) = 'automatic' or lower(o.registradopor) = 'automático' then 'bpm.enum.assignmentType.automatic'\r\nwhen u.nome is null then o.registradopor \r\nelse u.nome \r\nend as responsible,\r\nidoccurrencecategory as type_id, \r\ncase \r\nwhen idoccurrencecategory = 1 then 'citcorpore.comum.registroDaSolicitacao'\r\nwhen idoccurrencecategory = 2 then 'citcorpore.comum.acompanhamentoCliente'\r\nwhen idoccurrencecategory = 3 then 'citcorpore.comum.atualizacaoStatus'\r\nwhen idoccurrencecategory = 4 then 'problema.diagnostico'\r\nwhen idoccurrencecategory = 5 then 'citcorpore.comum.investigacao'\r\nwhen idoccurrencecategory = 6 then 'citcorpore.comum.memorando'\r\nwhen idoccurrencecategory = 7 then 'citcorpore.comum.pedidoInformacao'\r\nwhen idoccurrencecategory = 8 then 'citcorpore.comum.retornoCliente'\r\nwhen idoccurrencecategory = 9 then 'citcorpore.comum.sintomaProblema'\r\nwhen idoccurrencecategory = 10 then 'problema.solucao_contorno'\r\nwhen idoccurrencecategory = 11 then 'solicitacaoServico.registroExecucao'\r\nwhen idoccurrencecategory = 12 then 'citcorpore.comum.mudançaSLA'\r\nwhen idoccurrencecategory = 13 then 'citcorpore.comum.reclassificacao'\r\nwhen idoccurrencecategory = 14 then 'citcorpore.comum.agendamentoAtividade'\r\nwhen idoccurrencecategory = 15 then 'citcorpore.comum.suspensaoSolicitacao'\r\nwhen idoccurrencecategory = 16 then 'citcorpore.comum.reativacaoSolicitacao'\r\nwhen idoccurrencecategory = 17 then 'citcorpore.comum.encerramentoSolicitacao'\r\nwhen idoccurrencecategory = 18 then 'citcorpore.comum.reaberturaSolicitacao'\r\nwhen idoccurrencecategory = 19 then 'citcorpore.comum.direcionamentoSolicitacao'\r\nwhen idoccurrencecategory = 20 then 'citcorpore.comum.compartilhamentoTarefa'\r\nwhen idoccurrencecategory = 21 then 'citcorpore.comum.cancelamentoTarefa'\r\nwhen idoccurrencecategory = 22 then 'citcorpore.comum.inicioSLA'\r\nwhen idoccurrencecategory = 23 then 'citcorpore.comum.suspensaoSLA'\r\nwhen idoccurrencecategory = 24 then 'citcorpore.comum.liberacaoRequisicaoLiberacao'\r\nwhen idoccurrencecategory = 25 then 'citcorpore.comum.reativacaoSLA'\r\nwhen idoccurrencecategory = 26 then 'citcorpore.comum.outrasCategorias'\r\nwhen idoccurrencecategory = 27 then 'baseConhecimentoView.confidencial'\r\nwhen idoccurrencecategory = 27 then 'citcorpore.comum.localizacao'\r\nwhen idoccurrencecategory = 28 then 'citcorpore.comum.respostaAutomatica'\r\nwhen idoccurrencecategory is null then 'solicitacaoServico.registroExecucao'\r\nend as type,\r\ncase when o.descricao like '<%' then '' else o.descricao  end as  description ,\r\nreplace(replace(o.ocorrencia,'<p>',''),'</p>','') as occurrency\r\nfrom ocorrenciasolicitacao o left join (select distinct login, min(nome) as nome from usuario group by login) u\r\non u.login = o.registradopor\r\nleft join bpm_itemtrabalhofluxo i on i.iditemtrabalho = o.iditemtrabalho \r\nleft join bpm_elementofluxo e on e.idelemento = i.idelemento","relationshipsDdl":"","domains":[],"applicationName":"ticket_history","versionAsString":"1.0","ignoreVersion":false,"newVersion":false},{"dataEdicao":"2019-05-04T01:47:58.041-0300","dataCriacao":"2019-05-03T09:44:40.252-0300","version":13,"id":9767,"dataSource":{"dataEdicao":"2019-05-03T09:30:14.547-0300","dataCriacao":"2019-05-03T09:30:14.547-0300","version":0,"id":9649,"connectionName":"itsm","description":"ITSM DB Connection","connectorType":{"id":138,"name":"JNDI","description":"Conexão JNDI","key":"dataSourceConnectorType","code":1,"editable":false,"isDefault":false}},"type":{"id":140,"name":"TABLE","description":"Tabela","key":"dataObjectType","code":1,"editable":false,"isDefault":false},"name":"ocorrenciasolicitacao","description":"Ticket Occurrence","majorVersion":1,"minorVersion":0,"businessName":"TicketOccurrence","purpose":"Ticket Occurrence","restAPI":"'use strict';\r\n\r\n// TicketOccurrence - Ticket Occurrence\r\nangular.module('builder.app').factory('TicketOccurrenceRepository', ['RestangularEsi', 'DynamicModelRepository', 'appService', '$injector', '$q', function (restangular, DynamicModelRepository, appService, $injector, $q) {\r\n\r\n    function TicketOccurrenceRepository() {\r\n    \tvar self = this;\r\n    \t\r\n    \tDynamicModelRepository.call(this, restangular, 'rest/dynamic/ticket_history/ticketoccurrence');\r\n    \t\r\n    \t/*\r\n    \t * Methods:\r\n    \t *\t\tgetList()\r\n    \t * \t\tgetListPage(params)\r\n    \t * \t\trestore(entity, findManyToOne, findOneToMany)\r\n    \t * \t\tcreate(entity)\r\n    \t * \t\tupdate(entity)\r\n    \t * \t\tcreateOrUpdate(entity)\r\n    \t * \t\tcreateOrUpdateList(list)\r\n    \t * \t\tremove(entity)\r\n    \t * \t\tgetStructure()\r\n    \t * \t\texportCSV()\r\n    \t */\r\n    \t\n\n\t\t// Update timestamp\n\t\tthis.updateTimestamp = function(entity) {\n\t\t\tvar params = {SQLName: 'updateTimestamp', dynamicModel: entity};\n\t\t\treturn this.restangular.all(this.route + '/execute').post(params);\n\t\t},\n\n\t\t// List by ticket\n\t\tthis.listTimestampByTicket = function(entity, findManyToOne, findOneToMany) {\n\t\t\tvar params = {SQLName: 'ListTimestampByTicket', findManyToOne: findManyToOne, findOneToMany: findOneToMany, dynamicModel: entity};\n\t\t\treturn this.restangular.all(this.route + '/list').post(params);\n\t\t}\r\n    \t/* begin developer area */\r\n    \t\r\n    \t/* end developer area */\r\n    }\r\n\r\n    DynamicModelRepository.extend(TicketOccurrenceRepository);\r\n\r\n    return new TicketOccurrenceRepository();\r\n}]);","developerArea":"","sqls":[{"id":10066,"type":"UPDATE","name":"updateTimestamp","description":"Update timestamp","defaultSQL":false,"sql":"update ocorrenciasolicitacao set starttime = ${starttime:TIMESTAMP}, endtime = ${endtime:TIMESTAMP} where idocorrencia = ${idOcorrencia}"},{"id":10223,"type":"SELECT","name":"ListTimestampByTicket","description":"List by ticket","defaultSQL":false,"sql":"SELECT idocorrencia, starttime, endtime FROM ocorrenciasolicitacao\nWHERE idsolicitacaoservico = ${idSolicitacaoServico}\n  AND starttime IS NOT NULL\n  AND endtime IS NOT NULL","selectQueryPiece":"SELECT idocorrencia, starttime, endtime","fromWhereQueryPiece":"FROM ocorrenciasolicitacao\nWHERE idsolicitacaoservico = ${idSolicitacaoServico}\n  AND starttime IS NOT NULL\n  AND endtime IS NOT NULL"}],"fields":[{"fieldType":"C","id":9768,"name":"idocorrencia","attributeName":"idOcorrencia","description":"idocorrencia","label":"idocorrencia","displayAtForm":false,"displayAtGrid":false,"width":2,"required":true,"disabled":false,"widgetId":632,"type":{"dataEdicao":"2019-04-22T14:34:22.082-0300","dataCriacao":"2019-04-22T14:34:22.082-0300","version":0,"id":863,"name":"bigint","description":"Big integer","javaClass":"BIG_INTEGER","allowSize":false,"allowGeneratedValue":true,"allowPrecision":false,"allowAutoIncrement":true,"width":2,"widgetName":"input-integer"},"pk":true,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"int4","mandatory":true,"widgetName":"input-integer"},{"fieldType":"C","id":9769,"name":"idjustificativa","attributeName":"idJustificativa","description":"idjustificativa","label":"idjustificativa","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":632,"type":{"dataEdicao":"2019-04-22T14:34:22.082-0300","dataCriacao":"2019-04-22T14:34:22.082-0300","version":0,"id":863,"name":"bigint","description":"Big integer","javaClass":"BIG_INTEGER","allowSize":false,"allowGeneratedValue":true,"allowPrecision":false,"allowAutoIncrement":true,"width":2,"widgetName":"input-integer"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"int4","mandatory":false,"widgetName":"input-integer"},{"fieldType":"C","id":9770,"name":"idsolicitacaoservico","attributeName":"idSolicitacaoServico","description":"idsolicitacaoservico","label":"idsolicitacaoservico","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":632,"type":{"dataEdicao":"2019-04-22T14:34:22.082-0300","dataCriacao":"2019-04-22T14:34:22.082-0300","version":0,"id":863,"name":"bigint","description":"Big integer","javaClass":"BIG_INTEGER","allowSize":false,"allowGeneratedValue":true,"allowPrecision":false,"allowAutoIncrement":true,"width":2,"widgetName":"input-integer"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"int8","mandatory":false,"widgetName":"input-integer"},{"fieldType":"C","id":9771,"name":"iditemtrabalho","attributeName":"idItemTrabalho","description":"iditemtrabalho","label":"iditemtrabalho","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":632,"type":{"dataEdicao":"2019-04-22T14:34:22.082-0300","dataCriacao":"2019-04-22T14:34:22.082-0300","version":0,"id":863,"name":"bigint","description":"Big integer","javaClass":"BIG_INTEGER","allowSize":false,"allowGeneratedValue":true,"allowPrecision":false,"allowAutoIncrement":true,"width":2,"widgetName":"input-integer"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"int8","mandatory":false,"widgetName":"input-integer"},{"fieldType":"C","id":9772,"name":"dataregistro","attributeName":"dataRegistro","description":"dataregistro","label":"dataregistro","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":673,"type":{"dataEdicao":"2019-04-22T14:34:22.266-0300","dataCriacao":"2019-04-22T14:34:22.266-0300","version":0,"id":915,"name":"date","description":"Date","javaClass":"DATE","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":2,"widgetName":"date-picker"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"date","mandatory":false,"widgetName":"date-picker"},{"fieldType":"C","id":9773,"name":"horaregistro","attributeName":"horaRegistro","description":"horaregistro","label":"horaregistro","displayAtForm":false,"displayAtGrid":false,"width":4,"required":false,"disabled":false,"widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.349-0300","dataCriacao":"2019-04-22T14:34:22.349-0300","version":0,"id":938,"name":"varchar","description":"String","javaClass":"STRING","allowSize":true,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":4,"widgetName":"input-text"},"pk":false,"fk":false,"size":5,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"varchar","mandatory":false,"widgetName":"input-text"},{"fieldType":"C","id":9774,"name":"registradopor","attributeName":"registradoPor","description":"registradopor","label":"registradopor","displayAtForm":false,"displayAtGrid":false,"width":4,"required":false,"disabled":false,"widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.349-0300","dataCriacao":"2019-04-22T14:34:22.349-0300","version":0,"id":938,"name":"varchar","description":"String","javaClass":"STRING","allowSize":true,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":4,"widgetName":"input-text"},"pk":false,"fk":false,"size":256,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"varchar","mandatory":false,"widgetName":"input-text"},{"fieldType":"C","id":9775,"name":"descricao","attributeName":"descricao","description":"descricao","label":"descricao","displayAtForm":false,"displayAtGrid":false,"width":6,"required":false,"disabled":false,"widgetId":691,"type":{"dataEdicao":"2019-04-22T14:34:22.381-0300","dataCriacao":"2019-04-22T14:34:22.381-0300","version":0,"id":947,"name":"text","description":"Long text","javaClass":"STRING","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":6,"widgetName":"text-area"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"text","mandatory":false,"widgetName":"text-area"},{"fieldType":"C","id":9776,"name":"datainicio","attributeName":"dataInicio","description":"datainicio","label":"datainicio","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":673,"type":{"dataEdicao":"2019-04-22T14:34:22.266-0300","dataCriacao":"2019-04-22T14:34:22.266-0300","version":0,"id":915,"name":"date","description":"Date","javaClass":"DATE","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":2,"widgetName":"date-picker"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"date","mandatory":false,"widgetName":"date-picker"},{"fieldType":"C","id":9777,"name":"datafim","attributeName":"dataFim","description":"datafim","label":"datafim","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":673,"type":{"dataEdicao":"2019-04-22T14:34:22.266-0300","dataCriacao":"2019-04-22T14:34:22.266-0300","version":0,"id":915,"name":"date","description":"Date","javaClass":"DATE","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":2,"widgetName":"date-picker"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"date","mandatory":false,"widgetName":"date-picker"},{"fieldType":"C","id":9778,"name":"complementojustificativa","attributeName":"complementoJustificativa","description":"complementojustificativa","label":"complementojustificativa","displayAtForm":false,"displayAtGrid":false,"width":6,"required":false,"disabled":false,"widgetId":691,"type":{"dataEdicao":"2019-04-22T14:34:22.381-0300","dataCriacao":"2019-04-22T14:34:22.381-0300","version":0,"id":947,"name":"text","description":"Long text","javaClass":"STRING","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":6,"widgetName":"text-area"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"text","mandatory":false,"widgetName":"text-area"},{"fieldType":"C","id":9779,"name":"dadossolicitacao","attributeName":"dadosSolicitacao","description":"dadossolicitacao","label":"dadossolicitacao","displayAtForm":false,"displayAtGrid":false,"width":6,"required":false,"disabled":false,"widgetId":691,"type":{"dataEdicao":"2019-04-22T14:34:22.381-0300","dataCriacao":"2019-04-22T14:34:22.381-0300","version":0,"id":947,"name":"text","description":"Long text","javaClass":"STRING","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":6,"widgetName":"text-area"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"text","mandatory":false,"widgetName":"text-area"},{"fieldType":"C","id":9780,"name":"informacoescontato","attributeName":"informacoesContato","description":"informacoescontato","label":"informacoescontato","displayAtForm":false,"displayAtGrid":false,"width":6,"required":false,"disabled":false,"widgetId":691,"type":{"dataEdicao":"2019-04-22T14:34:22.381-0300","dataCriacao":"2019-04-22T14:34:22.381-0300","version":0,"id":947,"name":"text","description":"Long text","javaClass":"STRING","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":6,"widgetName":"text-area"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"text","mandatory":false,"widgetName":"text-area"},{"fieldType":"C","id":9781,"name":"categoria","attributeName":"categoria","description":"categoria","label":"categoria","displayAtForm":false,"displayAtGrid":false,"width":4,"required":false,"disabled":false,"widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.349-0300","dataCriacao":"2019-04-22T14:34:22.349-0300","version":0,"id":938,"name":"varchar","description":"String","javaClass":"STRING","allowSize":true,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":4,"widgetName":"input-text"},"pk":false,"fk":false,"size":20,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"varchar","mandatory":false,"widgetName":"input-text"},{"fieldType":"C","id":9782,"name":"origem","attributeName":"origem","description":"origem","label":"origem","displayAtForm":false,"displayAtGrid":false,"width":4,"required":false,"disabled":false,"widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.318-0300","dataCriacao":"2019-04-22T14:34:22.318-0300","version":0,"id":930,"name":"char","description":"Character","javaClass":"STRING","allowSize":true,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":4,"widgetName":"input-text"},"pk":false,"fk":false,"size":1,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"bpchar","mandatory":false,"widgetName":"input-text"},{"fieldType":"C","id":9783,"name":"tempogasto","attributeName":"tempoGasto","description":"tempogasto","label":"tempogasto","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":632,"type":{"dataEdicao":"2019-04-22T14:34:22.082-0300","dataCriacao":"2019-04-22T14:34:22.082-0300","version":0,"id":863,"name":"bigint","description":"Big integer","javaClass":"BIG_INTEGER","allowSize":false,"allowGeneratedValue":true,"allowPrecision":false,"allowAutoIncrement":true,"width":2,"widgetName":"input-integer"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"int4","mandatory":false,"widgetName":"input-integer"},{"fieldType":"C","id":9784,"name":"ocorrencia","attributeName":"ocorrencia","description":"ocorrencia","label":"ocorrencia","displayAtForm":false,"displayAtGrid":false,"width":6,"required":false,"disabled":false,"widgetId":691,"type":{"dataEdicao":"2019-04-22T14:34:22.381-0300","dataCriacao":"2019-04-22T14:34:22.381-0300","version":0,"id":947,"name":"text","description":"Long text","javaClass":"STRING","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":6,"widgetName":"text-area"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"text","mandatory":false,"widgetName":"text-area"},{"fieldType":"C","id":9785,"name":"idcategoriaocorrencia","attributeName":"idCategoriaOcorrencia","description":"idcategoriaocorrencia","label":"idcategoriaocorrencia","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":632,"type":{"dataEdicao":"2019-04-22T14:34:22.082-0300","dataCriacao":"2019-04-22T14:34:22.082-0300","version":0,"id":863,"name":"bigint","description":"Big integer","javaClass":"BIG_INTEGER","allowSize":false,"allowGeneratedValue":true,"allowPrecision":false,"allowAutoIncrement":true,"width":2,"widgetName":"input-integer"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"int4","mandatory":false,"widgetName":"input-integer"},{"fieldType":"C","id":9786,"name":"idorigemocorrencia","attributeName":"idOrigemOcorrencia","description":"idorigemocorrencia","label":"idorigemocorrencia","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":632,"type":{"dataEdicao":"2019-04-22T14:34:22.082-0300","dataCriacao":"2019-04-22T14:34:22.082-0300","version":0,"id":863,"name":"bigint","description":"Big integer","javaClass":"BIG_INTEGER","allowSize":false,"allowGeneratedValue":true,"allowPrecision":false,"allowAutoIncrement":true,"width":2,"widgetName":"input-integer"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"int4","mandatory":false,"widgetName":"input-integer"},{"fieldType":"C","id":9787,"name":"notificarsolicitante","attributeName":"notificarSolicitante","description":"notificarsolicitante","label":"notificarsolicitante","displayAtForm":false,"displayAtGrid":false,"width":4,"required":false,"disabled":false,"widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.318-0300","dataCriacao":"2019-04-22T14:34:22.318-0300","version":0,"id":930,"name":"char","description":"Character","javaClass":"STRING","allowSize":true,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":4,"widgetName":"input-text"},"pk":false,"fk":false,"size":1,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"bpchar","mandatory":false,"widgetName":"input-text"},{"fieldType":"C","id":9788,"name":"notificarresponsavel","attributeName":"notificarResponsavel","description":"notificarresponsavel","label":"notificarresponsavel","displayAtForm":false,"displayAtGrid":false,"width":4,"required":false,"disabled":false,"widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.318-0300","dataCriacao":"2019-04-22T14:34:22.318-0300","version":0,"id":930,"name":"char","description":"Character","javaClass":"STRING","allowSize":true,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":4,"widgetName":"input-text"},"pk":false,"fk":false,"size":1,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"bpchar","mandatory":false,"widgetName":"input-text"},{"fieldType":"C","id":9789,"name":"codigoexterno","attributeName":"codigoExterno","description":"codigoexterno","label":"codigoexterno","displayAtForm":false,"displayAtGrid":false,"width":4,"required":false,"disabled":false,"widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.349-0300","dataCriacao":"2019-04-22T14:34:22.349-0300","version":0,"id":938,"name":"varchar","description":"String","javaClass":"STRING","allowSize":true,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":4,"widgetName":"input-text"},"pk":false,"fk":false,"size":100,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"varchar","mandatory":false,"widgetName":"input-text"},{"fieldType":"C","id":9790,"name":"idoccurrencecategory","attributeName":"idOccurrenceCategory","description":"idoccurrencecategory","label":"idoccurrencecategory","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":632,"type":{"dataEdicao":"2019-04-22T14:34:22.118-0300","dataCriacao":"2019-04-22T14:34:22.118-0300","version":0,"id":870,"name":"int","description":"Small integer","javaClass":"INTEGER","allowSize":false,"allowGeneratedValue":true,"allowPrecision":false,"allowAutoIncrement":true,"width":2,"widgetName":"input-integer"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"int2","mandatory":false,"widgetName":"input-integer"},{"fieldType":"C","id":9791,"name":"latitude","attributeName":"latitude","description":"latitude","label":"latitude","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":654,"type":{"dataEdicao":"2019-04-22T14:34:22.190-0300","dataCriacao":"2019-04-22T14:34:22.190-0300","version":0,"id":889,"name":"bigdecimal","description":"Big decimal","javaClass":"BIG_DECIMAL","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":2,"widgetName":"input-decimal"},"pk":false,"fk":false,"precision":15,"generatedValue":false,"autoIncrement":false,"databaseType":"numeric","mandatory":false,"widgetName":"input-decimal"},{"fieldType":"C","id":9792,"name":"longitude","attributeName":"longitude","description":"longitude","label":"longitude","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":654,"type":{"dataEdicao":"2019-04-22T14:34:22.190-0300","dataCriacao":"2019-04-22T14:34:22.190-0300","version":0,"id":889,"name":"bigdecimal","description":"Big decimal","javaClass":"BIG_DECIMAL","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":2,"widgetName":"input-decimal"},"pk":false,"fk":false,"precision":15,"generatedValue":false,"autoIncrement":false,"databaseType":"numeric","mandatory":false,"widgetName":"input-decimal"},{"fieldType":"C","id":9793,"name":"registradoporidusuario","attributeName":"registradoPorIdUsuario","description":"registradoporidusuario","label":"registradoporidusuario","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":632,"type":{"dataEdicao":"2019-04-22T14:34:22.082-0300","dataCriacao":"2019-04-22T14:34:22.082-0300","version":0,"id":863,"name":"bigint","description":"Big integer","javaClass":"BIG_INTEGER","allowSize":false,"allowGeneratedValue":true,"allowPrecision":false,"allowAutoIncrement":true,"width":2,"widgetName":"input-integer"},"pk":false,"fk":false,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"int4","mandatory":false,"widgetName":"input-integer"},{"fieldType":"C","id":9794,"name":"tempogastodata","attributeName":"tempoGastoData","description":"tempogastodata","label":"tempogastodata","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":673,"type":{"dataEdicao":"2019-04-22T14:34:22.298-0300","dataCriacao":"2019-04-22T14:34:22.298-0300","version":0,"id":924,"name":"datetime","description":"Datetime","javaClass":"TIMESTAMP","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":2,"widgetName":"date-picker"},"pk":false,"fk":false,"precision":6,"generatedValue":false,"autoIncrement":false,"databaseType":"timestamp","mandatory":false,"widgetName":"date-picker"},{"fieldType":"C","id":9795,"name":"tempogastohora","attributeName":"tempoGastoHora","description":"tempogastohora","label":"tempogastohora","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":654,"type":{"dataEdicao":"2019-04-22T14:34:22.190-0300","dataCriacao":"2019-04-22T14:34:22.190-0300","version":0,"id":889,"name":"bigdecimal","description":"Big decimal","javaClass":"BIG_DECIMAL","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":2,"widgetName":"input-decimal"},"pk":false,"fk":false,"precision":2,"generatedValue":false,"autoIncrement":false,"databaseType":"numeric","mandatory":false,"widgetName":"input-decimal"},{"fieldType":"C","id":9796,"name":"visivelsolicitante","attributeName":"visivelSolicitante","description":"visivelsolicitante","label":"visivelsolicitante","displayAtForm":false,"displayAtGrid":false,"width":4,"required":false,"disabled":false,"widgetId":608,"type":{"dataEdicao":"2019-04-22T14:34:22.318-0300","dataCriacao":"2019-04-22T14:34:22.318-0300","version":0,"id":930,"name":"char","description":"Character","javaClass":"STRING","allowSize":true,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":4,"widgetName":"input-text"},"pk":false,"fk":false,"size":1,"precision":0,"generatedValue":false,"autoIncrement":false,"databaseType":"bpchar","mandatory":false,"widgetName":"input-text"},{"fieldType":"C","id":9806,"name":"starttime","attributeName":"startTime","description":"starttime","label":"starttime","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":673,"type":{"dataEdicao":"2019-04-22T14:34:22.298-0300","dataCriacao":"2019-04-22T14:34:22.298-0300","version":0,"id":924,"name":"datetime","description":"Datetime","javaClass":"TIMESTAMP","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":2,"widgetName":"date-picker"},"pk":false,"fk":false,"generatedValue":false,"autoIncrement":false,"databaseType":"timestamp","mandatory":false,"domainPkType":"CODE","widgetName":"date-picker"},{"fieldType":"C","id":9807,"name":"endtime","attributeName":"endTime","description":"endtime","label":"endtime","displayAtForm":false,"displayAtGrid":false,"width":2,"required":false,"disabled":false,"widgetId":673,"type":{"dataEdicao":"2019-04-22T14:34:22.298-0300","dataCriacao":"2019-04-22T14:34:22.298-0300","version":0,"id":924,"name":"datetime","description":"Datetime","javaClass":"TIMESTAMP","allowSize":false,"allowGeneratedValue":false,"allowPrecision":false,"allowAutoIncrement":false,"width":2,"widgetName":"date-picker"},"pk":false,"fk":false,"generatedValue":false,"autoIncrement":false,"databaseType":"timestamp","mandatory":false,"domainPkType":"CODE","widgetName":"date-picker"}],"ddl":"CREATE TABLE \"ocorrenciasolicitacao\" (\r\n\t\"idocorrencia\" int4 NOT NULL,\r\n\t\"idjustificativa\" int4 NULL ,\r\n\t\"idsolicitacaoservico\" int8 NULL ,\r\n\t\"iditemtrabalho\" int8 NULL ,\r\n\t\"dataregistro\" date NULL ,\r\n\t\"horaregistro\" varchar(5) NULL ,\r\n\t\"registradopor\" varchar(256) NULL ,\r\n\t\"descricao\" text NULL ,\r\n\t\"datainicio\" date NULL ,\r\n\t\"datafim\" date NULL ,\r\n\t\"complementojustificativa\" text NULL ,\r\n\t\"dadossolicitacao\" text NULL ,\r\n\t\"informacoescontato\" text NULL ,\r\n\t\"categoria\" varchar(20) NULL ,\r\n\t\"origem\" bpchar(1) NULL ,\r\n\t\"tempogasto\" int4 NULL ,\r\n\t\"ocorrencia\" text NULL ,\r\n\t\"idcategoriaocorrencia\" int4 NULL ,\r\n\t\"idorigemocorrencia\" int4 NULL ,\r\n\t\"notificarsolicitante\" bpchar(1) NULL ,\r\n\t\"notificarresponsavel\" bpchar(1) NULL ,\r\n\t\"codigoexterno\" varchar(100) NULL ,\r\n\t\"idoccurrencecategory\" int2 NULL ,\r\n\t\"latitude\" numeric NULL ,\r\n\t\"longitude\" numeric NULL ,\r\n\t\"registradoporidusuario\" int4 NULL ,\r\n\t\"tempogastodata\" timestamp NULL ,\r\n\t\"tempogastohora\" numeric NULL ,\r\n\t\"visivelsolicitante\" bpchar(1) NULL ,\r\n\t\"starttime\" timestamp NULL ,\r\n\t\"endtime\" timestamp NULL ,\r\n\tCONSTRAINT pk_ocorrenciasolicitacao PRIMARY KEY (\"idocorrencia\")\r\n);","relationshipsDdl":"","domains":[],"applicationName":"ticket_history","versionAsString":"1.0","ignoreVersion":false,"newVersion":false}],"pagesConfig":[],"forms":[{"className":"FormVersion","id":9651,"editDate":"2019-05-03T09:30:24.105-0300","creationDate":"2018-08-10T15:05:50.321-0300","resource":{"id":9652,"type":"FORM","description":"Ticket History","name":"ticketHistory","applicationName":"ticket_history"},"majorVersion":3,"minorVersion":0,"versionNumber":"3.0","path":"ticket_history","fileName":"ticketHistory.html","fileSize":1639,"fullPath":"ticket_history/ticketHistory.html","tabs":[],"rows":[{"id":9663,"index":0,"tabIndex":0,"htmlHeader":"","htmlFooter":"","components":[{"id":9664,"index":0,"width":6,"mobile":true,"properties":[{"id":9665,"property":{"dataEdicao":"2019-04-22T14:34:21.180-0300","dataCriacao":"2019-04-22T14:34:21.180-0300","version":0,"id":541,"type":{"id":115,"name":"STRING","description":"String","key":"formPropertyType","code":1,"editable":false,"isDefault":false},"name":"ng-label","label":"ESI.LABEL","defaultValue":"Label","readonly":false,"required":false},"isExpression":false,"stringValue":"citcorpore.comum.data"},{"id":9666,"property":{"dataEdicao":"2019-04-22T14:34:21.192-0300","dataCriacao":"2019-04-22T14:34:21.192-0300","version":0,"id":542,"type":{"id":127,"name":"MODEL","description":"Model","key":"formPropertyType","code":13,"editable":false,"isDefault":false},"name":"ng-model","label":"Model","defaultValue":"","readonly":false,"required":true},"isExpression":false,"stringValue":"ticketHistory.date"},{"id":9667,"property":{"dataEdicao":"2019-04-22T14:34:21.237-0300","dataCriacao":"2019-04-22T14:34:21.237-0300","version":0,"id":550,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-evento-change","label":"ESI.EVENTO_CHANGE","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9668,"property":{"dataEdicao":"2019-04-22T14:34:21.455-0300","dataCriacao":"2019-04-22T14:34:21.455-0300","version":0,"id":582,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"label-info-tooltip","label":"ESI.LABEL_TOOLTIP","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9669,"property":{"dataEdicao":"2019-04-22T14:34:21.370-0300","dataCriacao":"2019-04-22T14:34:21.370-0300","version":0,"id":571,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-show","label":"ESI.CONDICAO_EXIBIR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9670,"property":{"dataEdicao":"2019-04-22T14:34:21.382-0300","dataCriacao":"2019-04-22T14:34:21.382-0300","version":0,"id":572,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-if","label":"ESI.CONDICAO_RENDERIZAR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9671,"property":{"dataEdicao":"2019-04-22T14:34:21.410-0300","dataCriacao":"2019-04-22T14:34:21.410-0300","version":0,"id":575,"type":{"id":116,"name":"BOOLEAN","description":"Booleano","key":"formPropertyType","code":2,"editable":false,"isDefault":false},"name":"ng-obrigatorio","label":"LABEL.OBRIGATORIO","defaultValue":"false","readonly":false,"required":false},"isExpression":false},{"id":9672,"property":{"dataEdicao":"2019-04-22T14:34:21.418-0300","dataCriacao":"2019-04-22T14:34:21.418-0300","version":0,"id":576,"type":{"id":116,"name":"BOOLEAN","description":"Booleano","key":"formPropertyType","code":2,"editable":false,"isDefault":false},"name":"ng-disabled","label":"ESI.SOMENTE_LEITURA","defaultValue":"false","readonly":false,"required":false},"isExpression":true,"stringValue":"!edit"}],"widgetName":"date-picker"},{"id":9673,"index":1,"width":4,"mobile":true,"properties":[{"id":9674,"property":{"dataEdicao":"2019-04-22T14:34:21.180-0300","dataCriacao":"2019-04-22T14:34:21.180-0300","version":0,"id":541,"type":{"id":115,"name":"STRING","description":"String","key":"formPropertyType","code":1,"editable":false,"isDefault":false},"name":"ng-label","label":"ESI.LABEL","defaultValue":"Label","readonly":false,"required":false},"isExpression":false,"stringValue":"eventoItemConfiguracao.hora"},{"id":9675,"property":{"dataEdicao":"2019-04-22T14:34:21.192-0300","dataCriacao":"2019-04-22T14:34:21.192-0300","version":0,"id":542,"type":{"id":127,"name":"MODEL","description":"Model","key":"formPropertyType","code":13,"editable":false,"isDefault":false},"name":"ng-model","label":"Model","defaultValue":"","readonly":false,"required":true},"isExpression":false,"stringValue":"ticketHistory.hour"},{"id":9676,"property":{"dataEdicao":"2019-04-22T14:34:21.253-0300","dataCriacao":"2019-04-22T14:34:21.253-0300","version":0,"id":552,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-type","label":"ESI.TIPO_ENTRADA","defaultValue":"text","readonly":false,"required":true},"isExpression":false,"stringValue":"text"},{"id":9677,"property":{"dataEdicao":"2019-04-22T14:34:21.519-0300","dataCriacao":"2019-04-22T14:34:21.519-0300","version":0,"id":588,"type":{"id":117,"name":"INTEGER","description":"Inteiro","key":"formPropertyType","code":3,"editable":false,"isDefault":false},"name":"ng-custom-maxlength","label":"ESI.TAMANHO_MAXIMO","defaultValue":"","readonly":false,"required":false},"isExpression":false,"integerValue":5},{"id":9678,"property":{"dataEdicao":"2019-04-22T14:34:21.200-0300","dataCriacao":"2019-04-22T14:34:21.200-0300","version":0,"id":543,"type":{"id":115,"name":"STRING","description":"String","key":"formPropertyType","code":1,"editable":false,"isDefault":false},"name":"ng-mask","label":"ESI.MASCARA","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9679,"property":{"dataEdicao":"2019-04-22T14:34:21.455-0300","dataCriacao":"2019-04-22T14:34:21.455-0300","version":0,"id":582,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"label-info-tooltip","label":"ESI.LABEL_TOOLTIP","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9680,"property":{"dataEdicao":"2019-04-22T14:34:21.237-0300","dataCriacao":"2019-04-22T14:34:21.237-0300","version":0,"id":549,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-evento-blur","label":"ESI.EVENTO_BLUR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9681,"property":{"dataEdicao":"2019-04-22T14:34:21.237-0300","dataCriacao":"2019-04-22T14:34:21.237-0300","version":0,"id":550,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-evento-change","label":"ESI.EVENTO_CHANGE","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9682,"property":{"dataEdicao":"2019-04-22T14:34:21.370-0300","dataCriacao":"2019-04-22T14:34:21.370-0300","version":0,"id":571,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-show","label":"ESI.CONDICAO_EXIBIR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9683,"property":{"dataEdicao":"2019-04-22T14:34:21.382-0300","dataCriacao":"2019-04-22T14:34:21.382-0300","version":0,"id":572,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-if","label":"ESI.CONDICAO_RENDERIZAR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9684,"property":{"dataEdicao":"2019-04-22T14:34:21.410-0300","dataCriacao":"2019-04-22T14:34:21.410-0300","version":0,"id":575,"type":{"id":116,"name":"BOOLEAN","description":"Booleano","key":"formPropertyType","code":2,"editable":false,"isDefault":false},"name":"ng-obrigatorio","label":"LABEL.OBRIGATORIO","defaultValue":"false","readonly":false,"required":false},"isExpression":false},{"id":9685,"property":{"dataEdicao":"2019-04-22T14:34:21.418-0300","dataCriacao":"2019-04-22T14:34:21.418-0300","version":0,"id":576,"type":{"id":116,"name":"BOOLEAN","description":"Booleano","key":"formPropertyType","code":2,"editable":false,"isDefault":false},"name":"ng-disabled","label":"ESI.SOMENTE_LEITURA","defaultValue":"false","readonly":false,"required":false},"isExpression":true,"stringValue":"!edit"}],"widgetName":"input-text"}]},{"id":9686,"index":1,"tabIndex":0,"htmlHeader":"","htmlFooter":"","components":[{"id":9687,"index":0,"width":6,"mobile":true,"properties":[{"id":9688,"property":{"dataEdicao":"2019-04-22T14:34:21.180-0300","dataCriacao":"2019-04-22T14:34:21.180-0300","version":0,"id":541,"type":{"id":115,"name":"STRING","description":"String","key":"formPropertyType","code":1,"editable":false,"isDefault":false},"name":"ng-label","label":"ESI.LABEL","defaultValue":"Label","readonly":false,"required":false},"isExpression":false,"stringValue":"LABEL.INTERACTION_TYPE"},{"id":9689,"property":{"dataEdicao":"2019-04-22T14:34:21.192-0300","dataCriacao":"2019-04-22T14:34:21.192-0300","version":0,"id":542,"type":{"id":127,"name":"MODEL","description":"Model","key":"formPropertyType","code":13,"editable":false,"isDefault":false},"name":"ng-model","label":"Model","defaultValue":"","readonly":false,"required":true},"isExpression":false,"stringValue":"ticketHistory.type"},{"id":9690,"property":{"dataEdicao":"2019-04-22T14:34:21.253-0300","dataCriacao":"2019-04-22T14:34:21.253-0300","version":0,"id":552,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-type","label":"ESI.TIPO_ENTRADA","defaultValue":"text","readonly":false,"required":true},"isExpression":false,"stringValue":"text"},{"id":9691,"property":{"dataEdicao":"2019-04-22T14:34:21.519-0300","dataCriacao":"2019-04-22T14:34:21.519-0300","version":0,"id":588,"type":{"id":117,"name":"INTEGER","description":"Inteiro","key":"formPropertyType","code":3,"editable":false,"isDefault":false},"name":"ng-custom-maxlength","label":"ESI.TAMANHO_MAXIMO","defaultValue":"","readonly":false,"required":false},"isExpression":false,"integerValue":255},{"id":9692,"property":{"dataEdicao":"2019-04-22T14:34:21.200-0300","dataCriacao":"2019-04-22T14:34:21.200-0300","version":0,"id":543,"type":{"id":115,"name":"STRING","description":"String","key":"formPropertyType","code":1,"editable":false,"isDefault":false},"name":"ng-mask","label":"ESI.MASCARA","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9693,"property":{"dataEdicao":"2019-04-22T14:34:21.455-0300","dataCriacao":"2019-04-22T14:34:21.455-0300","version":0,"id":582,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"label-info-tooltip","label":"ESI.LABEL_TOOLTIP","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9694,"property":{"dataEdicao":"2019-04-22T14:34:21.237-0300","dataCriacao":"2019-04-22T14:34:21.237-0300","version":0,"id":549,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-evento-blur","label":"ESI.EVENTO_BLUR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9695,"property":{"dataEdicao":"2019-04-22T14:34:21.237-0300","dataCriacao":"2019-04-22T14:34:21.237-0300","version":0,"id":550,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-evento-change","label":"ESI.EVENTO_CHANGE","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9696,"property":{"dataEdicao":"2019-04-22T14:34:21.370-0300","dataCriacao":"2019-04-22T14:34:21.370-0300","version":0,"id":571,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-show","label":"ESI.CONDICAO_EXIBIR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9697,"property":{"dataEdicao":"2019-04-22T14:34:21.382-0300","dataCriacao":"2019-04-22T14:34:21.382-0300","version":0,"id":572,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-if","label":"ESI.CONDICAO_RENDERIZAR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9698,"property":{"dataEdicao":"2019-04-22T14:34:21.410-0300","dataCriacao":"2019-04-22T14:34:21.410-0300","version":0,"id":575,"type":{"id":116,"name":"BOOLEAN","description":"Booleano","key":"formPropertyType","code":2,"editable":false,"isDefault":false},"name":"ng-obrigatorio","label":"LABEL.OBRIGATORIO","defaultValue":"false","readonly":false,"required":false},"isExpression":false},{"id":9699,"property":{"dataEdicao":"2019-04-22T14:34:21.418-0300","dataCriacao":"2019-04-22T14:34:21.418-0300","version":0,"id":576,"type":{"id":116,"name":"BOOLEAN","description":"Booleano","key":"formPropertyType","code":2,"editable":false,"isDefault":false},"name":"ng-disabled","label":"ESI.SOMENTE_LEITURA","defaultValue":"false","readonly":false,"required":false},"isExpression":true,"stringValue":"!edit"}],"widgetName":"input-text"},{"id":9700,"index":1,"width":6,"mobile":true,"properties":[{"id":9701,"property":{"dataEdicao":"2019-04-22T14:34:21.180-0300","dataCriacao":"2019-04-22T14:34:21.180-0300","version":0,"id":541,"type":{"id":115,"name":"STRING","description":"String","key":"formPropertyType","code":1,"editable":false,"isDefault":false},"name":"ng-label","label":"ESI.LABEL","defaultValue":"Label","readonly":false,"required":false},"isExpression":false,"stringValue":"citcorporeRelatorio.comum.tarefa"},{"id":9702,"property":{"dataEdicao":"2019-04-22T14:34:21.192-0300","dataCriacao":"2019-04-22T14:34:21.192-0300","version":0,"id":542,"type":{"id":127,"name":"MODEL","description":"Model","key":"formPropertyType","code":13,"editable":false,"isDefault":false},"name":"ng-model","label":"Model","defaultValue":"","readonly":false,"required":true},"isExpression":false,"stringValue":"ticketHistory.workitem"},{"id":9703,"property":{"dataEdicao":"2019-04-22T14:34:21.253-0300","dataCriacao":"2019-04-22T14:34:21.253-0300","version":0,"id":552,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-type","label":"ESI.TIPO_ENTRADA","defaultValue":"text","readonly":false,"required":true},"isExpression":false,"stringValue":"text"},{"id":9704,"property":{"dataEdicao":"2019-04-22T14:34:21.519-0300","dataCriacao":"2019-04-22T14:34:21.519-0300","version":0,"id":588,"type":{"id":117,"name":"INTEGER","description":"Inteiro","key":"formPropertyType","code":3,"editable":false,"isDefault":false},"name":"ng-custom-maxlength","label":"ESI.TAMANHO_MAXIMO","defaultValue":"","readonly":false,"required":false},"isExpression":false,"integerValue":255},{"id":9705,"property":{"dataEdicao":"2019-04-22T14:34:21.200-0300","dataCriacao":"2019-04-22T14:34:21.200-0300","version":0,"id":543,"type":{"id":115,"name":"STRING","description":"String","key":"formPropertyType","code":1,"editable":false,"isDefault":false},"name":"ng-mask","label":"ESI.MASCARA","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9706,"property":{"dataEdicao":"2019-04-22T14:34:21.455-0300","dataCriacao":"2019-04-22T14:34:21.455-0300","version":0,"id":582,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"label-info-tooltip","label":"ESI.LABEL_TOOLTIP","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9707,"property":{"dataEdicao":"2019-04-22T14:34:21.237-0300","dataCriacao":"2019-04-22T14:34:21.237-0300","version":0,"id":549,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-evento-blur","label":"ESI.EVENTO_BLUR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9708,"property":{"dataEdicao":"2019-04-22T14:34:21.237-0300","dataCriacao":"2019-04-22T14:34:21.237-0300","version":0,"id":550,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-evento-change","label":"ESI.EVENTO_CHANGE","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9709,"property":{"dataEdicao":"2019-04-22T14:34:21.370-0300","dataCriacao":"2019-04-22T14:34:21.370-0300","version":0,"id":571,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-show","label":"ESI.CONDICAO_EXIBIR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9710,"property":{"dataEdicao":"2019-04-22T14:34:21.382-0300","dataCriacao":"2019-04-22T14:34:21.382-0300","version":0,"id":572,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-if","label":"ESI.CONDICAO_RENDERIZAR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9711,"property":{"dataEdicao":"2019-04-22T14:34:21.410-0300","dataCriacao":"2019-04-22T14:34:21.410-0300","version":0,"id":575,"type":{"id":116,"name":"BOOLEAN","description":"Booleano","key":"formPropertyType","code":2,"editable":false,"isDefault":false},"name":"ng-obrigatorio","label":"LABEL.OBRIGATORIO","defaultValue":"false","readonly":false,"required":false},"isExpression":false},{"id":9712,"property":{"dataEdicao":"2019-04-22T14:34:21.418-0300","dataCriacao":"2019-04-22T14:34:21.418-0300","version":0,"id":576,"type":{"id":116,"name":"BOOLEAN","description":"Booleano","key":"formPropertyType","code":2,"editable":false,"isDefault":false},"name":"ng-disabled","label":"ESI.SOMENTE_LEITURA","defaultValue":"false","readonly":false,"required":false},"isExpression":true,"stringValue":"!edit"}],"widgetName":"input-text"}]},{"id":9713,"index":2,"tabIndex":0,"htmlOnly":false,"cssClass":"row","aditionalHtml":"","ngShowHtml":"","ngIfHtml":"","htmlHeader":"","htmlFooter":"","components":[{"id":9714,"index":0,"width":12,"mobile":true,"properties":[{"id":9715,"property":{"dataEdicao":"2019-04-22T14:34:21.180-0300","dataCriacao":"2019-04-22T14:34:21.180-0300","version":0,"id":541,"type":{"id":115,"name":"STRING","description":"String","key":"formPropertyType","code":1,"editable":false,"isDefault":false},"name":"ng-label","label":"ESI.LABEL","defaultValue":"Label","readonly":false,"required":false},"isExpression":false,"stringValue":"citcorpore.comum.usuario"},{"id":9716,"property":{"dataEdicao":"2019-04-22T14:34:21.192-0300","dataCriacao":"2019-04-22T14:34:21.192-0300","version":0,"id":542,"type":{"id":127,"name":"MODEL","description":"Model","key":"formPropertyType","code":13,"editable":false,"isDefault":false},"name":"ng-model","label":"Model","defaultValue":"","readonly":false,"required":true},"isExpression":false,"stringValue":"ticketHistory.responsible"},{"id":9717,"property":{"dataEdicao":"2019-04-22T14:34:21.253-0300","dataCriacao":"2019-04-22T14:34:21.253-0300","version":0,"id":552,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-type","label":"ESI.TIPO_ENTRADA","defaultValue":"text","readonly":false,"required":true},"isExpression":false,"stringValue":"text"},{"id":9718,"property":{"dataEdicao":"2019-04-22T14:34:21.519-0300","dataCriacao":"2019-04-22T14:34:21.519-0300","version":0,"id":588,"type":{"id":117,"name":"INTEGER","description":"Inteiro","key":"formPropertyType","code":3,"editable":false,"isDefault":false},"name":"ng-custom-maxlength","label":"ESI.TAMANHO_MAXIMO","defaultValue":"","readonly":false,"required":false},"isExpression":false,"integerValue":255},{"id":9719,"property":{"dataEdicao":"2019-04-22T14:34:21.200-0300","dataCriacao":"2019-04-22T14:34:21.200-0300","version":0,"id":543,"type":{"id":115,"name":"STRING","description":"String","key":"formPropertyType","code":1,"editable":false,"isDefault":false},"name":"ng-mask","label":"ESI.MASCARA","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9720,"property":{"dataEdicao":"2019-04-22T14:34:21.455-0300","dataCriacao":"2019-04-22T14:34:21.455-0300","version":0,"id":582,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"label-info-tooltip","label":"ESI.LABEL_TOOLTIP","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9721,"property":{"dataEdicao":"2019-04-22T14:34:21.237-0300","dataCriacao":"2019-04-22T14:34:21.237-0300","version":0,"id":549,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-evento-blur","label":"ESI.EVENTO_BLUR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9722,"property":{"dataEdicao":"2019-04-22T14:34:21.237-0300","dataCriacao":"2019-04-22T14:34:21.237-0300","version":0,"id":550,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-evento-change","label":"ESI.EVENTO_CHANGE","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9723,"property":{"dataEdicao":"2019-04-22T14:34:21.370-0300","dataCriacao":"2019-04-22T14:34:21.370-0300","version":0,"id":571,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-show","label":"ESI.CONDICAO_EXIBIR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9724,"property":{"dataEdicao":"2019-04-22T14:34:21.382-0300","dataCriacao":"2019-04-22T14:34:21.382-0300","version":0,"id":572,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-if","label":"ESI.CONDICAO_RENDERIZAR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9725,"property":{"dataEdicao":"2019-04-22T14:34:21.410-0300","dataCriacao":"2019-04-22T14:34:21.410-0300","version":0,"id":575,"type":{"id":116,"name":"BOOLEAN","description":"Booleano","key":"formPropertyType","code":2,"editable":false,"isDefault":false},"name":"ng-obrigatorio","label":"LABEL.OBRIGATORIO","defaultValue":"false","readonly":false,"required":false},"isExpression":false},{"id":9726,"property":{"dataEdicao":"2019-04-22T14:34:21.418-0300","dataCriacao":"2019-04-22T14:34:21.418-0300","version":0,"id":576,"type":{"id":116,"name":"BOOLEAN","description":"Booleano","key":"formPropertyType","code":2,"editable":false,"isDefault":false},"name":"ng-disabled","label":"ESI.SOMENTE_LEITURA","defaultValue":"false","readonly":false,"required":false},"isExpression":true,"stringValue":"!edit"}],"widgetName":"input-text"}]},{"id":9727,"index":3,"tabIndex":0,"htmlHeader":"","htmlFooter":"","components":[{"id":9728,"index":0,"width":12,"mobile":true,"properties":[{"id":9729,"property":{"dataEdicao":"2019-04-22T14:34:21.180-0300","dataCriacao":"2019-04-22T14:34:21.180-0300","version":0,"id":541,"type":{"id":115,"name":"STRING","description":"String","key":"formPropertyType","code":1,"editable":false,"isDefault":false},"name":"ng-label","label":"ESI.LABEL","defaultValue":"Label","readonly":false,"required":false},"isExpression":false,"stringValue":"citcorpore.comum.descricao"},{"id":9730,"property":{"dataEdicao":"2019-04-22T14:34:21.192-0300","dataCriacao":"2019-04-22T14:34:21.192-0300","version":0,"id":542,"type":{"id":127,"name":"MODEL","description":"Model","key":"formPropertyType","code":13,"editable":false,"isDefault":false},"name":"ng-model","label":"Model","defaultValue":"","readonly":false,"required":true},"isExpression":false,"stringValue":"ticketHistory.occurrency"},{"id":9731,"property":{"dataEdicao":"2019-04-22T14:34:21.206-0300","dataCriacao":"2019-04-22T14:34:21.206-0300","version":0,"id":545,"type":{"id":117,"name":"INTEGER","description":"Inteiro","key":"formPropertyType","code":3,"editable":false,"isDefault":false},"name":"rows","label":"ESI.QTDE_LINHAS","defaultValue":"3","readonly":false,"required":false},"isExpression":false,"integerValue":7},{"id":9732,"property":{"dataEdicao":"2019-04-22T14:34:21.519-0300","dataCriacao":"2019-04-22T14:34:21.519-0300","version":0,"id":588,"type":{"id":117,"name":"INTEGER","description":"Inteiro","key":"formPropertyType","code":3,"editable":false,"isDefault":false},"name":"ng-custom-maxlength","label":"ESI.TAMANHO_MAXIMO","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9733,"property":{"dataEdicao":"2019-04-22T14:34:21.237-0300","dataCriacao":"2019-04-22T14:34:21.237-0300","version":0,"id":550,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-evento-change","label":"ESI.EVENTO_CHANGE","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9734,"property":{"dataEdicao":"2019-04-22T14:34:21.455-0300","dataCriacao":"2019-04-22T14:34:21.455-0300","version":0,"id":582,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"label-info-tooltip","label":"ESI.LABEL_TOOLTIP","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9735,"property":{"dataEdicao":"2019-04-22T14:34:21.370-0300","dataCriacao":"2019-04-22T14:34:21.370-0300","version":0,"id":571,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-show","label":"ESI.CONDICAO_EXIBIR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9736,"property":{"dataEdicao":"2019-04-22T14:34:21.382-0300","dataCriacao":"2019-04-22T14:34:21.382-0300","version":0,"id":572,"type":{"id":122,"name":"SHORTTEXT","description":"Texto curto","key":"formPropertyType","code":8,"editable":false,"isDefault":false},"name":"ng-if","label":"ESI.CONDICAO_RENDERIZAR","defaultValue":"","readonly":false,"required":false},"isExpression":false},{"id":9737,"property":{"dataEdicao":"2019-04-22T14:34:21.410-0300","dataCriacao":"2019-04-22T14:34:21.410-0300","version":0,"id":575,"type":{"id":116,"name":"BOOLEAN","description":"Booleano","key":"formPropertyType","code":2,"editable":false,"isDefault":false},"name":"ng-obrigatorio","label":"LABEL.OBRIGATORIO","defaultValue":"false","readonly":false,"required":false},"isExpression":false},{"id":9738,"property":{"dataEdicao":"2019-04-22T14:34:21.418-0300","dataCriacao":"2019-04-22T14:34:21.418-0300","version":0,"id":576,"type":{"id":116,"name":"BOOLEAN","description":"Booleano","key":"formPropertyType","code":2,"editable":false,"isDefault":false},"name":"ng-disabled","label":"ESI.SOMENTE_LEITURA","defaultValue":"false","readonly":false,"required":false},"isExpression":true,"stringValue":"!edit"}],"widgetName":"text-area"}]}],"actions":[],"pages":[{"id":9653,"defaultPage":true,"formPageConfigName":"crud","pageName":"ticketHistory_crud","controllerName":"TicketHistoryCrudController","pageCode":"<div id=\"${formName}Page\" class=\"page-content\" ng-controller=\"${controllerName}\">\r\n    <div class=\"bar-buttons-action fixed\">\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-8 text-left\">\r\n                \r\n                <button class=\"btn btn-clear\" ng-show=\"!$showEdit && dataObject.type.name == 'TABLE'\" ng-click=\"prepareInsert()\">\r\n                    <i class=\"fa fa-plus-circle yellow-dark\"></i>\r\n                    {{$translate.instant('LABEL.CADASTRAR')}}\r\n                </button>\r\n                \r\n                <button class=\"btn btn-clear\" ng-show=\"!$showEdit\" ng-click=\"open(false);\">\r\n                    <i class=\"fa fa-search blue\"></i>\r\n                    {{$translate.instant('LABEL.VISUALIZAR')}}\r\n                </button>\r\n                \r\n                <button class=\"btn btn-clear\" ng-click=\"open(true);\" ng-show=\"!$showEdit && dataObject.type.name == 'TABLE'\">\r\n                    <i class=\"fa fa-pencil blue\"></i>\r\n                    {{$translate.instant('LABEL.EDITAR')}}\r\n                </button>\r\n                \r\n                <button class=\"btn btn-clear\" ng-click=\"remove();\" ng-show=\"!$insert && edit && dataObject.type.name == 'TABLE'\">\r\n                    <i class=\"fa fa-times red\"></i>\r\n                    {{$translate.instant('LABEL.REMOVER')}}\r\n                </button>\r\n                \r\n                <button class=\"btn btn-clear\" ng-click=\"saveOrUpdate()\" ng-show=\"$showEdit && edit && dataObject.type.name == 'TABLE'\">\r\n                    <i class=\"fa fa-save green\"></i> {{$translate.instant('LABEL.SALVAR')}}\r\n                </button>\r\n                \r\n                <button class=\"btn btn-clear\" ng-click=\"clear()\" ng-show=\"$showEdit && $insert\">\r\n                    <i class=\"fa fa-eraser yellow-dark\"></i> {{$translate.instant('LABEL.LIMPAR')}}\r\n                </button>\r\n                \r\n                <button class=\"btn btn-clear\" ng-click=\"exportCSV()\" type=\"button\" ng-show=\"!$showEdit\">\r\n\t\t\t\t\t<i class=\"fa fa-file-excel-o green\"></i> \r\n\t\t\t\t\t{{$translate.instant('LABEL.EXPORTAR_CSV')}}\r\n\t\t\t\t</button>  \r\n\t\t\t\t\r\n                <button class=\"btn btn-clear\" ng-show=\"$showEdit\" ng-click=\"$showEdit = false; fetchResult();\">\r\n                    <i class=\"fa fa-search\"></i> {{$translate.instant('LABEL.PESQUISAR')}}\r\n                </button>\r\n                \r\n                <span class=\"divider-vertical\"></span>\r\n                \r\n                &nbsp;&nbsp;&nbsp;<form-actions ng-actions=\"resourceVersion.actions\" ng-if=\"initialized\"></form-actions>\r\n\r\n            </div><!-- .col -->\r\n\r\n            <div class=\"col-sm-4 text-right\">\r\n                <favorito/>\r\n\r\n                <help-button workspace=\"workspace\" />\r\n            </div><!-- .col -->\r\n        </div><!-- .row -->\r\n    </div><!-- .bar-buttons-action -->\r\n\r\n    <breadcrumb ng-workspace=\"workspace\"></breadcrumb>\r\n\r\n    <list-data-object ng-if=\"dataObject && !$showEdit\" ng-lista=\"objectList\" ng-data-object=\"dataObject\" ng-headers=\"headers\" ng-filter-criteria=\"filterCriteria\" ng-use-custom-remove=\"false\" ng-item-selecionado=\"$parent.checkedObject\"></list-data-object>\r\n    \r\n    <div id=\"${formName}Edit\" ng-show=\"$showEdit\" class=\"page-content clearfix\">\r\n    \r\n        <form name=\"${formName}Form\">\r\n            <p>\r\n                <small>( <span class=\"red\">*</span> ) {{$translate.instant('LABEL.CAMPOS_OBRIGATORIOS')}}</small>\r\n            </p>\r\n    \r\n    \t\t${formHtml}\r\n        </form>\r\n        \r\n    </div><!-- .page-content -->\r\n\r\n</div><!-- .page-content -->","mobilePageCode":"<div id=\"${formName}Page\" class=\"page-content\" ng-controller=\"${controllerName}\">\r\n    <div class=\"bar-buttons-action\">\r\n        <h4>{{resourceVersion.resource.description | translate }}</h4>\r\n        \r\n        <div class=\"row\" ng-if=\"!$showEdit\" >\r\n            <div class=\"col-sm-12 text-left\">\r\n                <a type=\"button\" class=\"btn btn-sm btn-citsmart\" ng-show=\"dataObject.type.name == 'TABLE'\" ng-click=\"prepareInsert()\">\r\n                    {{'LABEL.CADASTRAR' | translate}}\r\n                </a>\r\n    \r\n                <a type=\"button\" class=\"btn btn-sm btn-default\" ng-click=\"exportCSV()\" >\r\n    \t\t\t\t{{'LABEL.EXPORTAR_CSV' | translate}}\r\n    \t\t\t</a>  \r\n                \r\n                <a type=\"button\" class=\"btn btn-sm btn-default\" ng-show=\"$parent.checkedObject\" ng-click=\"open(false);\">\r\n                    {{'LABEL.VISUALIZAR' | translate}}\r\n                </a>\r\n                \r\n                <a type=\"button\" class=\"btn btn-sm btn-primary\" ng-click=\"open(true);\" ng-show=\"$parent.checkedObject && dataObject.type.name == 'TABLE'\">\r\n                    {{'LABEL.EDITAR' | translate}}\r\n                </a>\r\n                \r\n                <a type=\"button\" class=\"btn btn-sm btn-danger\" ng-click=\"remove();\" ng-show=\"$parent.checkedObject && !$insert && edit && dataObject.type.name == 'TABLE'\">\r\n                    {{'LABEL.REMOVER' | translate}}\r\n                </a>\r\n    \r\n                &nbsp;&nbsp;&nbsp;<form-actions ng-actions=\"resourceVersion.actions\" ng-if=\"initialized\"></form-actions>\r\n            </div>\r\n        </div>\r\n\t</div>\r\n\r\n    <list-data-object ng-if=\"dataObject && !$showEdit\" ng-lista=\"objectList\" ng-data-object=\"dataObject\" ng-headers=\"headers\" ng-filter-criteria=\"filterCriteria\" ng-use-custom-remove=\"false\" ng-item-selecionado=\"$parent.checkedObject\"></list-data-object>\r\n    \r\n    <div id=\"${formName}Edit\" ng-show=\"$showEdit\" class=\"page-content clearfix\">\r\n    \r\n        <form name=\"${formName}Form\">\r\n            <p>\r\n                <small>( <span class=\"red\">*</span> ) {{'LABEL.CAMPOS_OBRIGATORIOS' | translate}}</small>\r\n            </p>\r\n    \r\n    \t\t${formHtml}\r\n        </form>\r\n\r\n    \t<div class=\"row\" ng-if=\"$showEdit\">\r\n    \t\t<div class=\"col-md-12\">\r\n                <a type=\"button\" class=\"btn btn-sm btn-citsmart\" ng-click=\"saveOrUpdate()\" ng-show=\"edit && dataObject.type.name == 'TABLE'\">\r\n                    {{'LABEL.SALVAR' | translate}}\r\n                </a>\r\n                \r\n                <a type=\"button\" class=\"btn btn-sm btn-primary\" ng-click=\"clear()\" ng-show=\"$insert\">\r\n                    {{'LABEL.LIMPAR' | translate}}\r\n                </a>\r\n\r\n                <a type=\"button\" class=\"btn btn-sm btn-danger\" ng-click=\"remove();\" ng-show=\"!$insert && edit && dataObject.type.name == 'TABLE'\">\r\n                    {{'LABEL.REMOVER' | translate}}\r\n                </a>\r\n                \r\n                <a type=\"button\" class=\"btn btn-sm btn-default\" ng-click=\"$showEdit = false; fetchResult();\">\r\n                    {{'LABEL.VOLTAR' | translate}}\r\n                </a>\r\n                \r\n                &nbsp;&nbsp;&nbsp;<form-actions ng-actions=\"resourceVersion.actions\" ng-if=\"initialized\"></form-actions>\r\n            </div>\r\n        </div>\r\n        \r\n    </div><!-- .page-content -->\r\n\r\n</div><!-- .page-content -->\r\n","itsmPageCode":"<style>\r\ninput[type=radio] {\r\n    margin: 4px 0 0 10px !important;\r\n\tdisplay: block !important;\r\n}\r\n</style>\r\n<div id=\"${formName}Page\" class=\"page-content\" ng-controller=\"${controllerName}\">\r\n    <div class=\"bar-buttons-action\" ng-if=\"request && request.id\">\r\n        <h4>{{resourceVersion.resource.description | translate }}</h4>\r\n\r\n        <div class=\"row\" ng-if=\"!$showEdit\" >\r\n            <div class=\"col-sm-12 text-left\">\r\n                <a type=\"button\" class=\"btn btn-sm btn-citsmart\" ng-show=\"!$showEdit\" ng-click=\"fetchResult();\">\r\n                    {{'citcorpore.comum.atualizar' | translate}}\r\n                </a>\r\n                <a type=\"button\" class=\"btn btn-sm btn-default\" ng-show=\"$parent.checkedObject\" ng-click=\"open(false);\">\r\n                    {{'LABEL.VISUALIZAR' | translate}}\r\n                </a>\r\n            </div>\r\n        </div>\r\n\t</div>\r\n\r\n    <list-data-object ng-if=\"request && request.id && dataObject && !$showEdit && filterCriteria.objectMap\" \r\n    ng-lista=\"objectList\" ng-data-object=\"dataObject\" ng-headers=\"headers\" ng-filter-criteria=\"filterCriteria\" \r\n    ng-use-custom-remove=\"false\" ng-item-selecionado=\"$parent.checkedObject\"></list-data-object>\r\n    \r\n    <div id=\"${formName}Edit\" ng-show=\"$showEdit\" class=\"page-content clearfix\">\r\n    \r\n        <form name=\"${formName}Form\">\r\n    \t\t${formHtml}\r\n        </form>\r\n\r\n    \t<div class=\"row\" ng-if=\"$showEdit\">\r\n    \t\t<div class=\"col-md-12\">\r\n                <a type=\"button\" class=\"btn btn-sm btn-default\" ng-click=\"$showEdit = false; fetchResult();\">\r\n                    {{'LABEL.VOLTAR' | translate}}\r\n                </a>\r\n            </div>\r\n        </div>\r\n        \r\n    </div><!-- .page-content -->\r\n</div><!-- .page-content -->\r\n","controllerCode":"    angular.extend(this, $controller('DynamicCrudController', {$scope: $scope}));\r\n\r\n    $scope.request = $rootScope.request;\r\n    $timeout(function(){\r\n        $scope.initialize(TicketHistoryRepository, $scope.${formName}Form, 'ticketHistory', '${pageName}', '${formName}').then(function(result) {\r\n        \t$scope.filterCriteria = {\r\n                start : 1,\r\n                limit : 10,\r\n                fields: [],\r\n        \t    filters: [],\r\n                SQLName: \"ByRequest\",\r\n                objectMap: {request_id : $rootScope.request.id}\r\n        \t}\r\n        });\r\n    });\r\n    \r\n    $scope.initModal = function(action, model, exitFunction, controlledByOwner) {\r\n        $timeout(function(){\r\n            $scope.initializeModal(action, model, exitFunction, controlledByOwner, TicketHistoryRepository, $scope.${formName}Form, 'ticketHistory', '${pageName}', '${formName}');\r\n        });\r\n\t};\r\n\t\r\n\t$scope.afterGetObject = function(model) {\r\n\t    model.responsible = $translate.instant(model.responsible); \r\n\t    model.workitem = $translate.instant(model.workitem);\r\n\t    model.type = $translate.instant(model.type);\r\n\t    model.description = $translate.instant(model.description);\r\n\t}","dependencies":[{"id":9654,"name":"appService","dependencyName":"appService","type":"JAVASCRIPT","loadOnController":true,"repository":false},{"id":9655,"name":"$controller","dependencyName":"$controller","type":"JAVASCRIPT","loadOnController":true,"repository":false},{"id":9656,"name":"$rootScope","dependencyName":"$rootScope","type":"JAVASCRIPT","loadOnController":true,"repository":false},{"id":9657,"name":"$timeout","dependencyName":"$timeout","type":"JAVASCRIPT","loadOnController":true,"repository":false},{"id":9658,"name":"TicketHistoryRepository","dependencyName":"TicketHistoryRepository","type":"JAVASCRIPT","path":"/cit-esi-web/dynamic/ticket_history/js/repository/","loadOnController":true,"repository":true,"objectName":"dataObject"},{"id":9659,"name":"$translate","dependencyName":"$translate","type":"JAVASCRIPT","loadOnController":true,"repository":false},{"id":9660,"name":"$filter","dependencyName":"$filter","type":"JAVASCRIPT","loadOnController":true,"repository":false}],"properties":[{"id":9661,"name":"modelName","description":"ESI.NOME_MODEL","value":"ticketHistory"},{"id":9662,"name":"repositoryName","description":"ESI.REPOSITORIO_DINAMICO","value":"TicketHistoryRepository"}],"fullPath":"/cit-esi-web/forms/ticket_history/"}],"commonDependencies":[],"showTabs":false,"verticalTabs":false},{"className":"FormVersion","id":9962,"editDate":"2019-05-04T01:07:18.876-0300","creationDate":"2019-05-03T10:39:53.177-0300","resource":{"id":9809,"type":"FORM","description":"Ticket Occurrence Notes","name":"ticketOccurrenceNotes","applicationName":"ticket_history"},"majorVersion":2,"minorVersion":0,"versionNumber":"2.0","path":"ticket_history","fileName":"ticketOccurrenceNotes.html","fileSize":26,"fullPath":"forms/ticket_history/ticketOccurrenceNotes.html","previewJS":"","tabs":[],"rows":[{"id":10704,"index":0,"tabIndex":0,"htmlOnly":false,"cssClass":"row","aditionalHtml":"","ngShowHtml":"","ngIfHtml":"","htmlHeader":"","htmlFooter":"","components":[]}],"actions":[],"pages":[{"id":10697,"defaultPage":true,"formPageConfigName":"default","pageName":"ticketOccurrenceNotes_form","controllerName":"TicketOccurrenceNotesFormController","pageCode":"<div id=\"formEdit_{{uuid}}\" class=\"page-content clearfix\" ng-controller=\"${controllerName}\">\r\n\t<div class=\"bar-buttons-action fixed\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"col-sm-8 text-left\">\r\n\t\t\t<!--<button ng-show=\"showExecuteButton\" ng-disabled=\"${formName}Form.$invalid\" title=\"{{$translate.instant('LABEL.EXECUTAR')}}\" alt=\"{{$translate.instant('LABEL.EXECUTAR')}}\" class=\"btn btn-clear\" ng-click=\"submit()\">\r\n\t\t\t\t\t<i class=\"fa fa-play-circle green\"></i> <translate>LABEL.EXECUTAR</translate>\r\n\t\t\t\t</button> -->\r\n\t\t\t\t\r\n\t\t\t\t&nbsp;&nbsp;&nbsp;<form-actions ng-actions=\"resourceVersion.actions\" ng-if=\"initialized\"></form-actions>\r\n\t\t\t</div><!-- .col -->\r\n\r\n\t\t\t<div class=\"col-sm-4 text-right\" ng-show=\"showHelpButton\">\r\n\t\t\t\t<help-button workspace=\"workspace\" />\r\n\t\t\t</div><!-- .col -->\r\n\t\t</div><!-- .row -->\r\n\t</div><!-- .bar-buttons-action -->\r\n\t\r\n    <breadcrumb  ng-if=\"showBreadcrumb\" ng-workspace=\"workspace\"></breadcrumb>\r\n    \r\n    <form name=\"${formName}Form\">\r\n    \r\n    \t<p>\r\n    \t\t<small>( <span class=\"red\">*</span> ) <translate>LABEL.CAMPOS_OBRIGATORIOS</translate></small>\r\n    \t</p>\r\n    \r\n        ${formHtml}\r\n    \r\n    </form>\r\n\t\r\n</div><!-- .page-content -->","mobilePageCode":"<div id=\"${formName}Page\" ng-controller=\"${controllerName}\">\r\n\t<form name=\"${formName}Form\">\r\n        ${formHtml}\r\n\t</form>\r\n</div>","itsmPageCode":"<div id=\"${formName}Page\" class=\"page-content\" ng-controller=\"${controllerName}\">\r\n</div>\r\n\r\n<script type=\"text/ng-template\" id=\"service-request-incident-add-occurrence-notes-popover\">\r\n<div id=\"service-request-incident-add-occurrence-notes-container\" class=\"popover-content-wrapper\">\r\n\t<button type=\"button\" ng-show=\"isMobile()\" class=\"btn btn-default btn-sm btn-block\" ng-click=\"torgleFormNewNoteCollapsed()\" \r\n\t\tng-class=\"{'margin-bottom': controls.view && PARAM_ALLOW_ADD_NOTES_ON_TICKET_VIEW != 'S'}\">\r\n\t\t{{'citcorpore.comum.novaNota' | translate}} <i ng-class=\"{'fa fa-sm': true, 'fa fa-plus': formNewNoteCollapsed, 'fa fa-minus': !formNewNoteCollapsed}\"></i>\r\n\t</button>\r\n\r\n\t<div id=\"service-request-incident-add-occurrence-notes-form\" class=\"row margin-bottom\" ng-hide=\"controls.view && PARAM_ALLOW_ADD_NOTES_ON_TICKET_VIEW != 'S'\" ng-form=\"formServiceRequestIncidentAddOccurrenceNote\" uib-collapse=\"formNewNoteCollapsed && isMobile()\">\r\n\t\t<div class=\"col-md-12\">\r\n\t\t\t<form-input label=\"citcorpore.comum.comentario\" type=\"textarea\" ng-model=\"occurrenceNote.description\" rows=\"2\" form=\"formServiceRequestIncidentAddOccurrenceNote\" c-required=\"true\" />\r\n\t\t</div><!-- .col -->\r\n\r\n\t\t<div class=\"col-md-6\">\r\n\t\t\t<form-input label=\"TICKET.START_TIME\" type=\"datetime\" ng-model=\"occurrenceNote.startTime\" form=\"formServiceRequestIncidentAddOccurrenceNote\"/>\r\n\t\t</div><!-- .col -->\r\n\r\n\t\t<div class=\"col-md-6\">\r\n\t\t\t<form-input label=\"TICKET.END_TIME\" type=\"datetime\" ng-model=\"occurrenceNote.endTime\" form=\"formServiceRequestIncidentAddOccurrenceNote\"/>\r\n\t\t</div><!-- .col -->\r\n\r\n\t\t<div class=\"col-md-12\" ng-hide=\"request.idStatus == REQUEST_ID_STATUS_CLOSED || request.idStatus == REQUEST_ID_STATUS_CANCELED\">\r\n\t\t\t<div class=\"form-group pull-left\">\r\n\t\t\t\t<input type=\"checkbox\" id=\"visibleToRequester\" ng-model=\"occurrenceNote.visibleToRequester\">\r\n\t\t\t\t<label class=\"mb-0\" style=\"line-height: 1.2em;\" for=\"visibleToRequester\"> {{ 'citcorpore.comum.visivelAoSolicitante' | translate }}</label>\r\n\t\t\t</div>\r\n\t\t</div><!-- .col -->\r\n\r\n\t\t<div class=\"col-md-12\">\r\n\t\t\t<div class=\"form-group margin-less pull-left\" ng-if=\"occurrenceNote.visibleToRequester\" ng-hide=\"request.idStatus == REQUEST_ID_STATUS_CLOSED || request.idStatus == REQUEST_ID_STATUS_CANCELED\">\r\n\t\t\t\t<input type=\"checkbox\" id=\"sendMailToRequester\" ng-model=\"occurrenceNote.notify\">\r\n\t\t\t\t<label class=\"mb-0\" style=\"line-height: 1.2em;\" for=\"sendMailToRequester\"> {{ 'regraEscalonamento.enviarEmail' | translate }}</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"pull-right\">\r\n\t\t\t\t<button type=\"button\" class=\"btn btn-xs btn-citsmart\" ng-click=\"customSaveOccurrenceNoteValidation(formServiceRequestIncidentAddOccurrenceNote, occurrenceNote)\">\r\n\t\t\t\t\t{{ 'citcorpore.comum.salvar' | translate }}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div><!-- .col -->\r\n\t</div><!-- .row -->\r\n\r\n\t<hr ng-hide=\"controls.view && PARAM_ALLOW_ADD_NOTES_ON_TICKET_VIEW != 'S'\" />\r\n\r\n\t<div id=\"service-request-incident-add-occurrence-notes-list\" class=\"popover-scroll margin-less\" style=\"max-height: 270px;\" uib-collapse=\"!formNewNoteCollapsed && isMobile()\" >\r\n\t\t<div class=\"timeline-container\">\r\n\t\t\t<div class=\"timeline-items\">\r\n\t\t\t\t<div class=\"timeline-item\" ng-repeat=\"ocorrencia in occurrenceNotes\">\r\n\t\t\t\t\t<div ng-include=\"'service-request-incident-occurrence-content'\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"alert alert-grey margin-less text-center\" ng-show=\"!occurrenceNotes.length\">{{ 'MSG04' | translate }}</div>\r\n\t</div>\r\n</div>\r\n</script>\r\n\r\n<script type=\"text/ng-template\" id=\"service-request-incident-occurrence-content\">\r\n<div class=\"timeline-item-icon\" ng-style=\"{'color': ocorrencia.corCategoriaOcorrencia}\">\r\n\t<i ng-if=\"ocorrencia.tipoIconeCategoriaOcorrencia === 'fa' || !ocorrencia.iconeCategoriaOcorrencia\" class=\"fa {{ ::(ocorrencia.iconeCategoriaOcorrencia || 'fa-circle') }}\"></i>\r\n\t<i ng-if=\"ocorrencia.tipoIconeCategoriaOcorrencia === 'material'\" class=\"material-icons\">{{ ::ocorrencia.iconeCategoriaOcorrencia }}</i>\r\n</div>\r\n<div class=\"timeline-item-content\">\r\n\t<h3 class=\"timeline-item-title\">\r\n\t\t{{ ::ocorrencia.nomeCategoriaOcorrencia }} <i ng-show=\"ocorrencia.visivelSolicitante === 'S'\" title=\"{{ 'citcorpore.comum.visivelAoSolicitante' | translate }}\" class=\"fa fa-eye\"></i>\r\n\t</h3>\r\n\r\n\t<div class=\"timeline-item-text\">\r\n\t\t<span ng-hide=\"(ocorrencia.registradopor | isOccurrenceAutomaticUser) || (!ocorrencia.registradopor && !ocorrencia.registradoPorNomeUsuario)\">\r\n\t\t\t<strong>{{ ::(ocorrencia.registradoPorNomeUsuario || ocorrencia.registradopor) }}</strong> {{ 'citcorpore.comum.em' | translate | lowercase }}\r\n\t\t</span>\r\n\t\t{{ ::ocorrencia.dataHoraRegistro | dateTimeTextFromLocale }}\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-comment\" ng-if=\"ocorrencia.idOccurrenceCategory === ID_OCCURRENCE_CATEGORY_COMMENT\">\r\n\t\t<blockquote class=\"timeline-item-comment-text\">\r\n\t\t\t{{ ::ocorrencia.ocorrencia }}\r\n\t\t</blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-timesheet\" ng-if=\"ocorrencia.idOccurrenceCategory === ID_OCCURRENCE_CATEGORY_TIMESHEET\">\r\n\t    <div class=\"timeline-item-timesheet-text\" ng-show=\"ocorrencia.startTime && ocorrencia.endTime\">\r\n\t        {{ 'citcorpore.comum.deMin' | translate}} {{ ::ocorrencia.startTime | timestampFromLocale }} {{ 'citcorpore.comum.ate' | translate }} {{ ::ocorrencia.endTime | timestampFromLocale }}\r\n\t    </div>\r\n\t\t<div class=\"timeline-item-timesheet-date\" ng-show=\"!ocorrencia.startTime || !ocorrencia.endTime\">\r\n\t\t\t{{ ::ocorrencia.tempoGastoHora | numberConditionalPrecision:2 }} {{ (ocorrencia.tempoGastoHora > 1 ? 'citcorpore.comum.horas' : 'citcorpore.texto.tempo.hora') | translate | lowercase }} {{ 'citcorpore.comum.em' | translate | lowercase }} {{ ::ocorrencia.tempoGastoData | dateFromLocale }}\r\n\t\t</div>\r\n\t\t\r\n\t\t<blockquote ng-if=\"ocorrencia.ocorrencia\" class=\"timeline-item-timesheet-text\">\r\n\t\t\t{{ ::ocorrencia.ocorrencia }}\r\n\t\t</blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-info\" ng-if=\"ocorrencia.idCategoriaOcorrencia\">\r\n\t\t<blockquote class=\"timeline-item-info-text\">\r\n\t\t\t{{ ::ocorrencia.ocorrencia }}\r\n\t\t</blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-info\" ng-if=\"ocorrencia.motivoSuspensao\">\r\n\t\t<div class=\"timeline-item-info-title\">{{ 'citcorpore.comum.justificativa' | translate }}</div>\r\n\t\t<blockquote class=\"timeline-item-info-text\">\r\n\t\t\t{{ ::ocorrencia.motivoSuspensao }}\r\n\t\t</blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-info\" ng-if=\"ocorrencia.motivoReabertura\">\r\n\t\t<div class=\"timeline-item-info-title\">{{ 'citcorpore.comum.justificativa' | translate }}</div>\r\n\t\t<blockquote class=\"timeline-item-info-text\">\r\n\t\t\t{{ ::ocorrencia.motivoReabertura }}\r\n\t\t</blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-info\" ng-if=\"ocorrencia.motivoDelegacao\">\r\n\t\t<div class=\"timeline-item-info-title\">{{ 'citcorpore.comum.justificativa' | translate }}</div>\r\n\t\t<blockquote class=\"timeline-item-info-text\">\r\n\t\t\t{{ ::ocorrencia.motivoDelegacao }}\r\n\t\t</blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-info\" ng-if=\"ocorrencia.idOccurrenceCategory === ID_OCCURRENCE_CATEGORY_SLA_CHANGE \r\n\t\t|| ocorrencia.idOccurrenceCategory === ID_OCCURRENCE_CATEGORY_SLA_START\">\r\n\t\t<div class=\"timeline-item-info-title\">{{ 'citcorporeRelatorio.comum.sla' | translate }}</div>\r\n\t\t<blockquote class=\"timeline-item-info-text\">\r\n\t\t\t<div ng-show=\"ocorrencia.slaHHMM\">\r\n\t\t\t\t{{ ::ocorrencia.slaHHMM }}hrs \r\n\t\t\t</div>\r\n\t\t</blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"clearfix\" ng-if=\"ocorrencia.idOccurrenceCategory === ID_OCCURRENCE_CATEGORY_RECLASSIFICATION\">\r\n\t\t<div class=\"timeline-item-info\">\r\n\t\t\t<div class=\"timeline-item-info-title\">{{ 'citcorpore.comum.de' | translate }}</div>\r\n\t\t\t<blockquote class=\"timeline-item-info-text\">\r\n\t\t\t\t<p><strong>{{ 'citcorpore.comum.tipo' | translate }}:</strong> {{ ::ocorrencia.tipoServicoAnterior | translate }}</p>\r\n\t\t\t\t<p><strong>{{ 'citcorpore.comum.atividade' | translate }}:</strong> {{ ::ocorrencia.nomeServicoAnterior }}</p>\r\n\t\t\t</blockquote>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"timeline-item-info\">\r\n\t\t\t<div class=\"timeline-item-info-title\">{{ 'citcorpore.comum.Para' | translate }}</div>\r\n\t\t\t<blockquote class=\"timeline-item-info-text\">\r\n\t\t\t\t<p><strong>{{ 'citcorpore.comum.tipo' | translate }}:</strong> {{ ::ocorrencia.tipoServico | translate }}</p>\r\n\t\t\t\t<p><strong>{{ 'citcorpore.comum.atividade' | translate }}:</strong> {{ ::ocorrencia.nomeServico }}</p>\r\n\t\t\t</blockquote>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-info\" ng-if=\"ocorrencia.attachedFiles && (ocorrencia.idOccurrenceCategory === ID_OCCURRENCE_CATEGORY_CREATION \r\n\t\t || ocorrencia.idOccurrenceCategory === ID_OCCURRENCE_CATEGORY_REGISTRATION_EXECUTION)\">\r\n\t\t<div class=\"timeline-item-info-title\">{{ 'citcorpore.comum.anexos' | translate }}</div>\r\n\r\n\t\t<blockquote class=\"timeline-item-info-text\" ng-bind-html=\"ocorrencia.attachedFiles | newLineToHtmlBr | proccessHtml\"></blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-info\" ng-if=\"ocorrencia.removedFiles\">\r\n\t\t<div class=\"timeline-item-info-title\">{{ 'citcorpore.comum.anexosRemovidos' | translate }}</div>\r\n\r\n\t\t<blockquote class=\"timeline-item-info-text\" ng-bind-html=\"ocorrencia.removedFiles | newLineToHtmlBr | proccessHtml\"></blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-info\" ng-if=\"ocorrencia.escalonamento\">\r\n\t\t<div class=\"timeline-item-info-title\">{{ 'citcorpore.comum.descricao' | translate }}</div>\r\n\r\n\t\t<blockquote class=\"timeline-item-info-text\">{{ 'configuracaoEventoNotificacao.form.escalonamento' | translate }}</blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-info\" ng-if=\"ocorrencia.descricaoEscalonamento\">\r\n\t\t<div class=\"timeline-item-info-title\">{{ 'citcorpore.comum.descricao' | translate }}</div>\r\n\r\n\t\t<blockquote class=\"timeline-item-info-text\">{{ ::ocorrencia.descricaoEscalonamento | translate }}</blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-info\" ng-if=\"ocorrencia.nomeUsuarioEscalonamento\">\r\n\t\t<div class=\"timeline-item-info-title\">{{ 'citcorpore.comum.usuario' | translate }}</div>\r\n\r\n\t\t<blockquote class=\"timeline-item-info-text\">{{ ::ocorrencia.nomeUsuarioEscalonamento }}</blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-info\" ng-if=\"ocorrencia.motivoReclassificacao\">\r\n\t\t<div class=\"timeline-item-info-title\">{{ 'citcorpore.comum.justificativa' | translate }}</div>\r\n\t\t<blockquote class=\"timeline-item-info-text\">\r\n\t\t\t{{ ::ocorrencia.motivoReclassificacao }}\r\n\t\t</blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-info\" ng-if=\"ocorrencia.latitude && ocorrencia.longitude\">\r\n\t\t<div class=\"timeline-item-info-title\">{{ 'citcorpore.comum.coordenadas' | translate }}</div>\r\n\t\t<blockquote class=\"timeline-item-info-text\">\r\n\t\t\t<div>{{ 'geographic.latitude' | translate }}: {{ ::ocorrencia.latitude }}</div>\r\n\t\t\t<div>{{ 'geographic.longitude' | translate }}: {{ ::ocorrencia.longitude }}</div>\r\n\t\t</blockquote>\r\n\t</div>\r\n\r\n\t<div class=\"timeline-item-info\" ng-if=\"ocorrencia.nomeTarefa\" ng-hide=\"ocorrencia.idOccurrenceCategory === ID_OCCURRENCE_CATEGORY_SLA_START \r\n\t\t|| ocorrencia.idOccurrenceCategory === ID_OCCURRENCE_CATEGORY_SLA_SUSPENSION || ocorrencia.idOccurrenceCategory === ID_OCCURRENCE_CATEGORY_SLA_REACTIVATION\r\n\t\t|| ocorrencia.idOccurrenceCategory === ID_OCCURRENCE_CATEGORY_SLA_CHANGE || ocorrencia.idOccurrenceCategory === ID_OCCURRENCE_CATEGORY_COMMENT\r\n\t\t|| ocorrencia.idOccurrenceCategory === ID_OCCURRENCE_CATEGORY_TIMESHEET\">\r\n\t\t<div class=\"timeline-item-info-title\">{{ 'citcorpore.comum.tarefa' | translate }}</div>\r\n\r\n\t\t<blockquote class=\"timeline-item-info-text\" ng-bind-html=\"ocorrencia.nomeTarefa | proccessHtml\"></blockquote>\r\n\t</div>\r\n</div>\r\n</script>","controllerCode":"angular.extend(this, $controller('DynamicFormController', {$scope: $scope}));\r\n\r\n$scope.datetimeFormat = 'yyyy-MM-dd HH:mm:ss';\r\n\r\nvar $ticketScope = angular.element(\"#service-request-view\").scope();\r\n\r\nvar findOccurrenceNotes = function() {\r\n\tJANELA_AGUARDE_MENU.show();\r\n\tServiceRequestIncidentRepository.findOccurrenceNotes({id: $rootScope.request.id, idItemTrabalho: $rootScope.idWorkItem}).then(function(result) {\r\n\t\tJANELA_AGUARDE_MENU.hide();\r\n\t\tupdateOccurrencesTimestamp(result.data, 'occurrenceNotes');\r\n\t});\r\n};\r\n\r\nvar updateOccurrencesTimestamp = function(occurrences, attribute) {\r\n    TicketOccurrenceRepository.listTimestampByTicket({idSolicitacaoServico: $rootScope.request.id}).then(function(result) {\r\n        var i = 0;\r\n\t\tangular.forEach(occurrences, function(occurrence) {\r\n\t\t\tangular.forEach(result, function(occurrenceWithTimestamp) {\r\n\t\t\t    if (occurrence.idOcorrencia == occurrenceWithTimestamp.idOcorrencia) {\r\n\t\t\t        occurrences[i].startTime = $filter('date')(moment(occurrenceWithTimestamp.startTime).toDate(), $scope.datetimeFormat);\r\n\t\t\t        occurrences[i].endTime = $filter('date')(moment(occurrenceWithTimestamp.endTime).toDate(), $scope.datetimeFormat);\r\n\t\t\t    }\r\n\t\t\t}); \r\n\t\t\ti++;\r\n\t\t});  \r\n\t\t$timeout(function(){\r\n\t\t\t$ticketScope[attribute] = occurrences;\r\n\t\t},10);\r\n    });\r\n};\r\n\r\nvar initOccurrenceNote = function() {\r\n\t$ticketScope.occurrenceNote = {\r\n\t\tdate: new Date(),\r\n\t\tstartTime: $filter('date')(new Date(), $scope.datetimeFormat),\r\n\t\tendTime: $filter('date')(new Date(), $scope.datetimeFormat)\r\n\t};\r\n};\r\n\r\nvar updateOccurrenceNote = function(occurrenceTimesheet) {\r\n    JANELA_AGUARDE_MENU.show();\r\n\tServiceRequestIncidentRepository.findOccurrenceNotes({id: $rootScope.request.id, idItemTrabalho: $rootScope.idWorkItem}).then(function(result) {\r\n\t\tJANELA_AGUARDE_MENU.hide();\r\n\t\t\r\n\t\tvar occurrences = result.data;\r\n\t\tvar lastOccurrence = null;\r\n\t\tangular.forEach(occurrences, function(occurrence) {\r\n\t\t    if (occurrence.ocorrencia == occurrenceTimesheet.description \r\n\t\t          && occurrence.tempoGastoData.substring(0,10) == occurrenceTimesheet.startTime.substring(0,10)\r\n\t\t          && occurrence.tempoGastoHora == occurrenceTimesheet.time) {\r\n                lastOccurrence = occurrence;\t\t\t                  \r\n\t\t    }\r\n\t\t});\r\n\t\t\r\n\t\tif (lastOccurrence) {\r\n\t\t    lastOccurrence.startTime = occurrenceTimesheet.startTime;\r\n\t\t    lastOccurrence.endTime = occurrenceTimesheet.endTime;\r\n\t\t    \r\n\t\t    TicketOccurrenceRepository.updateTimestamp(lastOccurrence).then(function(result) {\r\n\t\t\t\tupdateOccurrencesTimestamp(occurrences, 'occurrenceNotes');\r\n\t\t\t\tfindOccurrences();\r\n    \t\t\tinitOccurrenceNote();\r\n\t\t    });\r\n\t\t}else{\r\n\t\t\tinitOccurrenceNote();\r\n\t\t}\r\n\t});\r\n};\r\n\r\nvar saveOccurrenceTimesheet = function(occurrenceTimesheet) {\r\n\tvar occurrence = {\r\n\t\tidSolicitacaoServico: $rootScope.request.id,\r\n\t\tidItemTrabalho: $rootScope.request.idItemTrabalho,\r\n\t\ttempoGastoData: occurrenceTimesheet.date,\r\n\t\ttempoGastoHora: occurrenceTimesheet.time,\r\n\t\tocorrencia: occurrenceTimesheet.description,\r\n\t\tnotificarSolicitante: (occurrenceTimesheet.notify ? 'S' : 'N'),\r\n\t\tvisivelSolicitante: (occurrenceTimesheet.visibleToRequester ? 'S' : 'N'),\r\n\t\tview: false\r\n\t};\r\n\t\r\n\tJANELA_AGUARDE_MENU.show();\r\n\treturn ServiceRequestIncidentRepository.saveOccurrenceTimesheet(occurrence).then(function(result) {\r\n\t\tJANELA_AGUARDE_MENU.hide();\r\n\t\t\r\n\t\tNotification.success($translate.instant('citcorpore.comum.adicionadoComSucesso', {\r\n\t\t\tmsg1: $translate.instant('citcorpore.comum.comentario')\r\n\t\t}));\r\n\r\n\t\tupdateOccurrenceNote(occurrenceTimesheet);\r\n\t});\r\n};\r\n\r\n$ticketScope.openServiceRequestIncidentAddOccurrenceNote = function() {\r\n\t$ticketScope.setFormNewNoteCollapsed(isMobile());\r\n\t$ticketScope.isServiceRequestIncidentAddOccurrenceNoteOpened = true;\r\n\t\r\n\tinitOccurrenceNote();\r\n\t\r\n\tFormUtil.focusOnField('[id=\"occurrenceNote.description\"]');\r\n};\r\n\r\n$ticketScope.customSaveOccurrenceNoteValidation = function(form, occurrenceNote) {\r\n    if(!occurrenceNote.startTime && !occurrenceNote.endTime) {\r\n        $ticketScope.saveOccurrenceNoteValidation(form, occurrenceNote);\r\n        return;\r\n    }\r\n        \r\n\tif(!FormUtil.valid(form, false)) {\r\n\t\tFormUtil.focusOnField('[id=\"occurrenceNote.description\"]');\r\n\t\treturn ;\r\n\t}\r\n\t\r\n\tif(!occurrenceNote.startTime || !occurrenceNote.endTime) {\r\n\t\tNotification.error('audit.msg.dtInicioDtFimPreenchidas');\r\n\t\treturn ;\r\n\t}\r\n\t\r\n\tif(moment(occurrenceNote.startTime).isAfter(moment(occurrenceNote.endTime))) {\r\n\t    Notification.error('audit.msg.dtInicial.dtFinal.menor');\r\n\t    return;\r\n\t}\r\n\t    \r\n    FormUtil.toInitialMode(form);\r\n\t$ticketScope.setFormNewNoteCollapsed(true);\r\n\t\r\n\toccurrenceNote.date = $filter('date')(moment(occurrenceNote.startTime).toDate(), 'yyyy-MM-dd');\r\n\toccurrenceNote.time = moment(occurrenceNote.endTime).toDate() - moment(occurrenceNote.startTime).toDate();\r\n\toccurrenceNote.time = occurrenceNote.time / 1000 / 60 / 60;\r\n\t\r\n\toccurrenceNote.startTime = $filter('date')(moment(occurrenceNote.startTime).toDate(), $scope.datetimeFormat);\r\n\toccurrenceNote.endTime = $filter('date')(moment(occurrenceNote.endTime).toDate(), $scope.datetimeFormat);\r\n\tsaveOccurrenceTimesheet(occurrenceNote);\r\n};\r\n\r\nvar findOccurrences = function() {\r\n\tvar params = { id: $rootScope.request.id, idItemTrabalho: $rootScope.request.idItemTrabalho };\r\n\tServiceRequestIncidentRepository.buscaOcorrenciaSolicitacao(params).then(function(responseOcorrencia){\r\n\t\tvar occurrences = JSON.parse(responseOcorrencia.data.ocorrencias);\r\n\t\tupdateOccurrencesTimestamp(occurrences, 'listOcorrenciaSolicitacao');\r\n\t\t$ticketScope.registraOcorrenciaPortal = responseOcorrencia.data.registraOcorrenciaPortal;\r\n\t});\r\n};\r\n\r\n$ticketScope.findOccurrences = findOccurrences;\r\n\r\nfindOccurrences();\r\nfindOccurrenceNotes();","dependencies":[{"id":10698,"name":"appService","dependencyName":"appService","type":"JAVASCRIPT","loadOnController":true,"repository":false},{"id":10699,"name":"$controller","dependencyName":"$controller","type":"JAVASCRIPT","loadOnController":true,"repository":false},{"id":10700,"name":"$rootScope","dependencyName":"$rootScope","type":"JAVASCRIPT","loadOnController":true,"repository":false},{"id":10701,"name":"$timeout","dependencyName":"$timeout","type":"JAVASCRIPT","loadOnController":true,"repository":false}],"properties":[{"id":10702,"name":"enabledFields","description":"Campos habilitados","value":"true"},{"id":10703,"name":"saveBusinessObject","description":"Save business objects automatically after submmit","value":"false"}],"fullPath":"/cit-esi-web/forms/ticket_history/"}],"commonDependencies":[{"id":10692,"name":"FormUtil","dependencyName":"FormUtil","type":"JAVASCRIPT","loadOnController":true,"repository":false},{"id":10693,"name":"$filter","dependencyName":"$filter","type":"JAVASCRIPT","loadOnController":true,"repository":false},{"id":10694,"name":"service-request-incident-repository","dependencyName":"ServiceRequestIncidentRepository","type":"JAVASCRIPT","path":"/citsmart/assets/js/repositories/","loadOnController":true,"repository":false},{"id":10695,"name":"$translate","dependencyName":"$translate","type":"JAVASCRIPT","loadOnController":true,"repository":false},{"id":10696,"name":"TicketOccurrenceRepository","dependencyName":"TicketOccurrenceRepository","type":"JAVASCRIPT","path":"/cit-esi-web/dynamic/ticket_history/js/repository/","loadOnController":true,"repository":false}],"showTabs":false,"verticalTabs":false}],"flows":[],"businessRules":[],"businessProcess":[],"notifications":[],"groups":[],"images":[],"css":[],"javaScripts":[],"pages":[],"reports":[],"components":[],"parameters":[],"labels":[{"id":9752,"chave":"LABEL.INTERACTION_TYPE","valor":"Tipo de interação","locale":"pt_BR","applicationName":"ticket_history"},{"id":9753,"chave":"LABEL.INTERACTION_TYPE","valor":"Type of interaction","locale":"en_US","applicationName":"ticket_history"},{"id":9764,"chave":"TICKET.END_TIME","valor":"Data e hora fim","locale":"pt_BR","applicationName":"ticket_history"},{"id":9761,"chave":"TICKET.START_TIME","valor":"Data e hora início","locale":"pt_BR","applicationName":"ticket_history"},{"id":9765,"chave":"TICKET.END_TIME","valor":"Date and time end","locale":"en_US","applicationName":"ticket_history"},{"id":9766,"chave":"TICKET.END_TIME","valor":"Fecha y hora","locale":"es_ES","applicationName":"ticket_history"},{"id":9763,"chave":"TICKET.START_TIME","valor":"Fecha y hora de inicio","locale":"es_ES","applicationName":"ticket_history"},{"id":9762,"chave":"TICKET.START_TIME","valor":"Start date and time","locale":"en_US","applicationName":"ticket_history"}],"replaceElement":false,"executeDDL":false,"replaceVersion":false,"versionAsString":"1.0"}
    ```

<hr>

!!! tip "About"

    <b>Produto/Versão:</b> CITSmart | 8.00</font> &nbsp; &nbsp;
    <b>Atualização:</b> 09/05/2019 - André L. Fernandes






